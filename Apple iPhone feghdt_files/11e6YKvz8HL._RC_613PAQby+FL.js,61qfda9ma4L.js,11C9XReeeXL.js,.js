(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(B){var u=window.AmazonUIPageJS||window.P,aa=u._namespace||u.attributeErrors,V=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):u;V.guardFatal?V.guardFatal(B)(V,window):V.execute(function(){B(V,window)})})(function(B,u,aa){B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,b,e,K,k,N,H){function O(c,a,v,l,p){if(!e.isjQueryObjDefined(c.find(".a-button-selected"))){var r=
F.getCurrentItem();if(!l||"chromeless-video"!==r.type||!f.autoplayVideo){l=0;"image"===r.type&&(l=Math.max(e.getIndexForVariant(r.color,r.variant,f),0));var d=0;e.isDefined(f.heroImage[r.color])&&(d=f.heroImage[r.color].length);p=l-(a>=f.maxAlts?f.maxAlts-p-d:0);a=0<=p?a+p:l+d;a>=v&&(l=0,a=d);v=e.getImageHash(r.color,l,f);-1!==v&&(P.dispatch("updateModel",{data:{index:l,thumbnailIndex:a,variant:v.variant,type:"image",shoppableScene:v.shoppableScene}}),v=c.find(".item").get(a),e.selectGivenThumbnail(b(v),
c))}}}function M(b){if(!f.useChildVideos)return e.lazyLoadingRequired(F.getCurrentItem(),F,f)?void 0:f.videos;if(f.colorToVideo[b])return f.colorToVideo[b];var a=f.colorToAsin[b];if(a&&a.asin){var c={};c.params={asin:a.asin,productGroupID:f.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:f.useChromelessVideoPlayer,isUDP:f.isUDP};f.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},K.load(VIDEO_AJAX_ENDPOINT,c));return f.colorToVideo&&f.colorToVideo[b]}}function w(r,
a,v){if((2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment)&&v)return r;var l=M(a),p=e.isDefined(l)&&0<l.length&&f.alwaysIncludeVideo?1:0;a=f.colorImages&&f.colorImages[a];l=r;var d=0;e.isDefined(a)&&(b.each(a,function(a,h){if(d>=f.maxAlts-p&&r<f.maxAlts+f.additionalNumberOfImageAlts){if(2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment){var q=b(".thumbItemUnrolled");q[r]?q[r].querySelector("img").src=h.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(r+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(r+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(r+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:a,thumbnailIndex:r,variant:h.variant,shoppableScene:h.shoppableScene},h.thumb,c,"imageThumbnail");r++}d++}),N.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(b,N,F),O(c,l,r,v,p));return r}function J(b,a){f.useIV&&e.isDefined(a.hiRes)&&b.css("cursor","pointer")}function D(c,a){if("image"===c.type&&ba){var r=b("#image-canvas-caption #canvasCaption"),l=f.staticStrings,p=f.colorImages,d=c.color,z=c.index;if(e.isShoppableScenesEnabled()&&c.shoppableScene)var h=l.clickSceneTagsToShopProducts;else a&&
f.useIV?h=l.clickToExpand:p[d]&&p[d][z].hiRes&&f.useHoverZoom?(h=f.useHoverZoomIpad?l.touchToZoom:f.useClickZoom?l.clickToZoom:l.rollOverToZoom,f.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+f.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+h)):f.useIV&&(h=l.clickToExpand);r.html(h)}}function G(c,a){var r="a-dynamic-image";if(!f.acEnabled){var l;b.each(c.main,function(a,q){e.isDefined(l)||(l=parseFloat(q[1]/q[0])<=parseFloat(f.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});r+=l}var p=e.getMaxDimensionsOfMainImage(c.main,
A,f),d=p[0],z=p[1];p=b("\x3cdiv\x3e\x3c/div\x3e");d={"max-height":d,"max-width":z};p.addClass(r).css(d).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:a}).data("a-dynamic-image",c.main);return p}function t(b,a,c){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",e,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",e);c.children("span").css("display","inline-block");P.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(c,e){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),e.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return c}function x(c,a,b){b=G(c,b);c=e.isShoppableScenesEnabled()&&c.shoppableScene?t(a,c,b):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
c.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});c.find(".placeHolder").replaceWith(b);p.find(".list").append(c);n.loadImageManually(b);return c}function R(c){var a=A.css("height");null!==a&&c.find(".imgTagWrapper").css("height",a);c.addClass("selected");f.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(f.imgTagWrapperClasses)}function Q(c,
a,l,d){if(2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment||d||"unavailable"===c.type){if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){l=e.getImageHash(c.color,c.index,f);if(-1===l)return a={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(c,F,f)||(P.dispatch("updateModel",a),e.showUnavailable(c.color)),-1;d=p.find(".item.itemNo"+c.thumbnailIndex);e.isjQueryObjDefined(d)||(d=x(l,c.thumbnailIndex,a));R(d);P.dispatch("loadMagnifier");
D(c);J(d,l);n.trigger("dp:image-block:update",l)}}else{c=f.colorImages&&f.colorImages[l];a=b(".unrolledImg");l=M(l);var z=e.isDefined(l)&&0<l.length&&f.alwaysIncludeVideo?1:0;a.length>f.maxAlts&&a.each(function(a){a>=f.maxAlts&&b(this).remove()});e.isDefined(c)&&b.each(c,function(a,c){a<f.maxAlts-z+f.additionalNumberOfImageAlts&&a>=f.maxAlts-z&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+z+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(a+z)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+z)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}}function m(c){var a=F.getCurrentItem().color;f.colorImages[a]||(f.colorImages[a]=c);c={type:"updatedData",data:F.getCurrentItem()};P.dispatch("updateView",c);(a=f.colorToAsin[a])&&a.asin&&B.register(e.rankedImagesReadyEvent(a.asin))}function d(){var c=p.find(".item .imgTagWrapper"),a=e.getContainerHeight(A,f.holderRatio,f.holderMaxHeight);
0<a&&(A.height(a),c.height(a));p.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&n.loadDynamicImage(this);var c=a.data("a-dynamic-image");c=e.getMaxDimensionsOfMainImage(c,A,f);a.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function l(c){D(F.getCurrentItem(),"mouseenter"===c.type)}var z,f,F,P,c,p,A,W,ba=(k=n.state("imageBlockStateData"))?!k.shouldRemoveCaption:!0;return function(r,a,v,k){z=this;f=r;F=a;P=k;n.on("triggerImageAjax",m);f.colorImages[f.landingAsinColor]=
f.colorImages[f.defaultColor];z.render=function(a,l,d,h,q,g,L){p=d;c=h;A=q;W=w(l,a,g);g||(l=F.getCurrentItem(),e.lazyLoadingRequired(l,F,f)&&P.dispatch("updateModel",{data:{type:"lazy-loaded"}}));l=F.getCurrentItem();d=!g;e.lazyLoadingRequired(l,F,f)||(b("#imageBlock").css("opacity","1"),p.css("opacity","1"),e.spinner(p,!1),p.find("li").removeClass("selected"),ba&&b("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),d&&p.find(".list .item").remove());Q(F.getCurrentItem(),L,a,g);return W};
z.update=function(a){};f.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");P.register("imageHover",l);P.register("resize",d)}});"use strict";B.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,b,e){var u,k,N,H;return function(b,K,w,J){u=this;k=b;N=J;u.render=function(b,w,t,x,K,Q,m){H=x;u=this;t=k.maxAlts;x=w;K=k.colorImages[b]?k.colorImages[b].length:0;K+=e.getVideosCount(b,k);b=k.heroImage[b];Q=0;b&&(Q=b.length);b=K+Q;b>t&&(t=b-t,b=H.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
t+="+",x={type:"ingress",index:0,thumbnailIndex:w,variant:""},b.find("#altIngressText").append(t),n.declarative.create(b,"thumb-action",x),H.append(b),x=w++);return x};u.update=function(b){"ingress"===b.data.type&&"click"===b.type&&N.dispatch("imageClick",b)}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,b,e,u){function k(l,d,f,m){if(!e.isjQueryObjDefined(l.find(".a-button-selected"))){var z=x.getCurrentItem();if(!m||"chromeless-video"!==
z.type||!t.autoplayVideo){m=0;if("hero-image"===z.type){m=H(z.color,z.variant);if(-1===m)return;m=-1!==m?m:0}var c=d+m;c>=f&&(m=0,c=d);d=u.getHeroImageHash(t,z.color,m);-1!==d&&(R.dispatch("updateModel",{data:{index:m,thumbnailIndex:c,variant:d.variant,type:"hero-image"}}),d=l.find(".item").get(c),e.selectGivenThumbnail(b(d),l))}}}function K(l,d,f){if("hero-video"===x.getCurrentItem().type)return l;d=t.heroImage&&t.heroImage[d];var m=l;e.isDefined(d)&&(b.each(d,function(b,c){l<t.maxAlts&&(e.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:l,variant:c.variant},c.thumb,Q,"imageThumbnail"),l++)}),k(Q,m,l,f));return l}function H(l,d){var f=t.heroImage;if(1>f.length||!e.isDefined(f[l])||!e.isDefined(d))return-1;var m=-1;b.each(f[l],function(b,c){c.variant===d&&(m=b)});return m}function O(){if(m.length&&t.repositionHeroImage){var b=u.getHeroDimParams(t,x.getCurrentItem());if(e.isDefined(b)){var d=e.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ";m.css({"background-position":d,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""})}}}function M(b,d,f,k){if(m.length&&b&&d){if("function"===typeof f||k){var l=new Image;l.onload=k?function(){m.css("background-image",'url("'+b+'")')}:f;l.src=b}f=d[1];l=d[0];k||m.css({"background-image":'url("'+b+'")'});if(t.repositionHeroImage&&(d=u.getHeroDimParams(t,x.getCurrentItem(),d),e.isDefined(d))){f=d.width;l=d.height;var c=e.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+
"px "}m.css({"background-position":c,"background-size":f+"px "+l+"px ","max-width":f+"px ","min-height":l+"px ",filter:"","-ms-filter":""})}}function w(e,d,f,m){e=u.getHeroImageHash(t,e,d);if(-1===e)return-1;d=b.map(e.main,function(b,c){return c})[0];M(d,e.main[d],f,m)}function J(b,e,d){if("hero-image"!==b.type)return-1;var f=H(b.color,x.getCurrentItem().variant);f=-1!==f?f:0;if(-1===u.getHeroImageHash(t,b.color,f))return-1;var l=x.getCurrentItem();b.thumbnailIndex=l.thumbnailIndex;b.type=l.type;
b.variant=l.variant;b.index=f;D(b,e,d)}function D(b,e,f){var l=u.getHeroImageHash(t,b.color,b.index);var k=b&&d&&n.equals(b,d)?!0:!1;d||(d=b);if(!k&&b||e)w(b.color,b.index,e,f),d=b;m.removeClass("hide-background");n.trigger("dp:image-block:update",l)}var G,t,x,R,Q,m,d={};return function(d,k,f,n){G=this;t=d;x=k;R=n;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];G.render=function(e,c,d,f,l,k,r){Q=f;m=b("#heroImage");e=K(c,e,k);J(x.getCurrentItem(),r,k);return e};G.update=function(b){var c=
b.data;"ingress"!==c.type&&m.addClass("hide-background");"swatchHover"===b.type?b.captured||(c.type=x.getCurrentItem().type,-1!==J(c)&&(b.captured=!0)):"hero-image"===c.type&&(D(c),"click"!==b.type&&t.usePeekHover||e.selectGivenThumbnail(b.$declarativeParent,Q))};R.register("resize",O)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,b,e,K,k,N){function H(b){Q?b.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function O(b){var d=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(e.isDefined(d)){d=d[1].split("_");for(var l=0;l<d.length;l++){var m=d[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(m)&&(b[m[1]]=parseInt(m[2],10))}}return b}function M(m,d){function l(){if(d.useClickZoom){var b=d.offsetInClickZoom;b=[Math.min(1,Math.max(0,v[0]-(C[0]+b))/(C[2]-2*b)),Math.min(1,Math.max(0,v[1]-(C[1]+b))/
(C[3]-2*b))]}else b=a&&a.updatePosition();if(b&&r&&r.detailSize){var g=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];n.capabilities.rtl?r.detailImage.get(0).style.right=-(b[0]*g[0])+"px":r.detailImage.get(0).style.left=-(b[0]*g[0])+"px";r.detailImage.get(0).style.top=-(b[1]*g[1])+"px"}}function t(b){return b.offsetParent().hasClass("a-dynamic-image-container")}function f(a){var c=g?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";v=g?[c.pageX,c.pageY]:[a.pageX,a.pageY];
if(n.capabilities.rtl){var h=b(u).width();v=g?[h-c.pageX,c.pageY]:[h-a.pageX,a.pageY]}}function w(b){g&&b.preventDefault();f(b);d.useClickZoom?b=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(b=a?a.offset:m.offsetParent().offset(),b=D.acEnabled?[b.left,b.top,J.width()+b.left,J.height()+b.top]:[y[0]+b.left,y[1]+b.top,y[0]+y[2]+b.left,y[1]+y[3]+b.top]);v[0]<b[0]||v[1]<b[1]||v[0]>=b[2]||v[1]>=b[3]||D.acEnabled&&!t(m)?(d.fadeMagnifier?T||(T=!0,da=setTimeout(function(){x(!0)},500)):d.useClickZoom||x(),X&&(X=!1,clearTimeout(M))):
(X||(X=!0,M=setTimeout(function(){K.postCountMetric("dppc_hoverZoomOpened");k.isEnabled&&N.logHoverZoomRequestServed(k)},1E3)),d.fadeMagnifier&&T&&(T=!1,clearTimeout(da)),l())}function x(h){h&&A.suppressMagnifier(!0);if(E&&(r&&r.hide(),a&&(a.destroy(),a=null),E=!1,g?(m.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),p(),h))m.one("click.magnifier touchstart.magnifier",
function(b){c(b,!0)})}function c(c,e){e&&A.suppressMagnifier(!1);if(!E&&!h&&(0===L&&(K.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),L=1),S[q]||(K.postCountMetric("dppc_hoverMain"),S[q]=1),y=[m.position().left,m.position().top,m.width(),m.height()],q&&(f(c),r?r.refit().show():r=new U,d.useClickZoom||(a=a||new ca),C=r.getWindowSize(),l()),E=!0,g?(m.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",x),b(document).trigger("engaged.magnifier")):
(D.acEnabled?J.unbind("mousemove.magnifier"):m.unbind("mousemove.magnifier"),b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),e&&(c=b("#zoomWindow"),0<c.length)))c.one("click.magnifier touchend.magnifier",function(b){x(!0)})}function p(){d.useHoverZoom&&(g?m.bind("touchstart.magnifier touchmove.magnifier",c):D.acEnabled?t(m)&&J.bind("mousemove.magnifier",c):m.bind("mousemove.magnifier",c))}var A=this,J=m.offsetParent(),G={detailImageUrl:m.attr("data-old-hires"),location:"over",
locationElement:m,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=b.extend(G,d);d.adjustment=[10,0,-10,0];var r=null,a=null,v=null,y=null,C=null,I={"null":1,"":1,undefined:1},E=!1,h=!1,q=d.detailImageUrl,g=d.useHoverZoomIpad||0,L=0,S={},ca=function(){function g(b){var a=Math.round(Math.min(m.width(),r.rect.width/b));b=Math.round(Math.min(m.height(),r.rect.height/b));q.css({width:a,height:b});c=[a,b]}var a=this,c=[0,0],h=(r.detailSize&&r.detailSize[0]||5E8)/y[2],e=(r.detailSize&&r.detailSize[1]||
5E8)/y[3];h=e>h?e:h;b("#magnifierLens").remove();var q=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&q.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?H(q):q.css("cursor","pointer");a.updatePosition=function(){var b=[y[2]-c[0],y[3]-c[1]],g=0>=b[0]?.5:Math.max(0,Math.min(1,(v[0]-c[0]/2-y[0]-a.offset.left)/b[0])),h=0>=b[1]?.5:Math.max(0,Math.min(1,(v[1]-c[1]/2-y[1]-a.offset.top)/b[1])),e=y[0]+
Math.round(g*b[0]);b=y[1]+Math.round(h*b[1]);q.get(0).style.left=e+"px";q.get(0).style.top=b+"px";return[g,h]};a.destroy=function(){q.remove()};a.offset=m.offsetParent().offset();g(h);a.updatePosition();q.appendTo(m.parent());r.detailImage[0].complete||r.detailImage.load(function(){var b=r.detailImage.width()/y[2];g(b);a.updatePosition()})};ca.preload=function(){A.preload(d.generalImageUrls.lensBackgroundUrl)};var U=function(){function a(){var a={};if("over"===d.location){a=d.useClickZoom;var g={},
q=b("#leftCol"),f=b("#centerCol"),S=b("#rightCol"),l=b("#hover-zoom-end"),p=b("#actionPanelContainer"),ta=e.isjQueryObjDefined(q)?q.outerHeight():f.outerHeight();g.top=e.isjQueryObjDefined(q)?q.offset().top:f.offset().top;g.bottom=ta+g.top;g.right=e.isjQueryObjDefined(S)?S.offset().left:p.offset().left;g.left=a?0:q.offset().left+q.outerWidth();e.isjQueryObjDefined(l)&&l.offset().top>g.bottom&&(g.bottom=l.offset().top);a=g}else"right"===d.location&&(a=m.offset(),a={left:a.left+m.outerWidth(),top:a.top,
right:a.left+m.outerWidth()+400,bottom:a.top+400});d.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+b(d.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,b(u).scrollTop()+b(u).height());a.left+=h[0];a.top+=h[1];a.right+=h[2];a.bottom+=h[3];a.width=a.right-a.left;a.height=a.bottom-a.top;d.enhancedHoverOverlay&&e.isDefined(u.pageXOffset)&&(g=b(u).width(),a.width=g-a.left+u.pageXOffset-18,a.height-=14);L.css({left:a.left,top:a.top,width:a.width,height:a.height});c.rect=a;return c}function g(a){var b=
new Image;c.detailSize=[0,0];b.onload=function(){c.detailSize=[b.width,b.height];l()};b.src=a.attr("src");if(0<b.width&&0<b.height)c.detailSize=[b.width,b.height];else if(d.detailImageSize)c.detailSize=d.detailImageSize;else{a=O(b.src);var g=y[2]/y[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/g)]:a.SY?c.detailSize=[Math.round(a.SY*g),a.SY]:a.SL&&(c.detailSize=1<=g?[a.SL,Math.round(a.SL/g)]:[Math.round(a.SL*g),a.SL])}}var c=this,h=d.adjustment;b("#zoomWindow").remove();
var f={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(f.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",f.border="1px solid #949494",f.borderColor="rgb(148,148,148)");var L=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(f);d.fadeMagnifier&&L.fadeIn(200);d.useClickZoom&&(Q?L.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(L.css("cursor","-webkit-zoom-out"),L.css("cursor","-moz-zoom-out"),L.css("cursor","zoom-out")));c.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();L.append(a);b(document).trigger("updated.magnifier");c.detailImage=a;g(c.detailImage)};c.refit=function(){a();g(c.detailImage);return c};d.fadeMagnifier?(c.show=function(){L.fadeIn(200);return c},c.hide=function(){L.fadeOut(200);return c}):(c.show=function(){L.show();return c},c.hide=function(){L.hide();return c});c.destroy=function(){L.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,
c.rect.height]};c.updateImage(q);a();L.appendTo(document.body)},T=!1,da,X=!1,M;A.preload=function(a){a=b.makeArray(a);for(var g=a.length,c=0;c<g;c++)a[c]instanceof Array?A.preload(a[c]):"string"===typeof a[c]&&a[c]&&!I[a[c]]&&(I[a[c]]=new Image,I[a[c]].src=a[c])};A.changeImage=function(a,c){E&&x();q=c;m.attr("src",a);A.preload(a);y=[m.position().left,m.position().top,m.width(),m.height()];c&&("immediately"===d.preload?A.preload(c,!0):b(u).ready(function(){A.preload(c)}),r?r.updateImage(c):m.attr("data-old-hires",
c))};A.destroy=function(){D.acEnabled?J.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):m.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");a&&a.destroy();a=null;r&&r.destroy();r=null};A.detailImage=function(){return r.detailImage};A.suppressMagnifier=function(a){h=a};A.isEngaged=function(){return E};A.engageMagnifier=c;A.disengageMagnifier=x;m[0].complete?p():m.one("load",p);A.preload(m.attr("src"));
u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var R=d.detailImageUrl;G=function(){A.preload(R,!0);d.useClickZoom||ca.preload()};var B=d.preload;B.constructor!==Array&&(B=[B]);for(var Z=0;Z<B.length;Z++)if("immediately"===B[Z])G();else if(b(u)[B[Z]])b(u)[B[Z]](G);else b(u).bind(B[Z],G)}return A}function w(){if(D.useHoverZoom){var m={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};x&&(x.destroy(),x=aa);var d=R.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(d)?D.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(b){x=
new M(d,m);x.engageMagnifier(b,!0)}),Q?d.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):x=new M(d,m):k.isEnabled&&N.logHoverZoomApplicability(b,k)}}var J,D,G,t,x,R,Q=navigator.userAgent.match(/msie|trident/i);return function(b,e,l,n){J=this;D=b;G=e;k.refToModel=G;t=n;J.render=function(b,e,d,c,l,m){R=d;x&&(x.destroy(),x=aa)};J.update=function(b){};t.register("loadMagnifier",w);t.register("resize",
w)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,b,e,K){function k(b,k,n){b=(b=n?n:e.getColorFromState(k.getState().hovered_variations,O))&&""!==b?b:O.defaultColor;w.dispatch("updateView",{type:"swatchHover",data:{color:b}});K.postCountMetric("swatchHover")}function B(b,k,n,t){b=(b=t?t:e.getColorFromState(k.getState().selected_variations,O))&&""!==b?b:O.defaultColor;b===M.getCurrentItem().color?"function"===typeof n&&n():(w.dispatch("updateSelection",
{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",b);n()}}),K.postCountMetric("swatchClick"))}var H,O,M,w;return function(b,e,u,t){H=this;O=b;M=e;w=t;n.on("image-block-twister-swatch-hover",k);n.on("image-block-twister-swatch-click",B);H.render=function(b,e,k,m,d){};H.update=function(b){}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,b,e,K,k,N,H){function O(a,h,q,d){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var g=p.getCurrentItem();if(!d||"chromeless-video"!==g.type||!c.autoplayVideo)if(d=0,"image"===g.type&&(d=Math.max(D(g.color,g.variant),0)),!(g.thumbnailIndex>=c.maxAlts&&0!=d)){var f=h+d;f>=q&&(d=0,f=h);h=e.getImageHash(g.color,d,c);-1!==h&&(A.dispatch("updateModel",{data:{index:d,thumbnailIndex:f,variant:h.variant,type:"image",
shoppableScene:h.shoppableScene}}),h=a.find(".item").get(f),e.selectGivenThumbnail(b(h),a))}}}function M(a,h,q){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&q)return a;var g=c.colorImages&&c.colorImages[h];h=a;2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=g.length||a>=c.maxAlts)&&b(this).remove()});e.isDefined(g)&&(b.each(g,function(g,h){if(a<c.maxAlts)if(2===
c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){a++;var q=b(".thumbItemUnrolled");q[g]?q[g].querySelector("img").src=h.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",index:g,thumbnailIndex:a,variant:h.variant,shoppableScene:h.shoppableScene},h.thumb,r,"imageThumbnail"),a++}),N.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(b,N,p),O(r,h,a,q));return a}function w(a,b){c.useIV&&e.isDefined(b.hiRes)&&a.css("cursor","pointer")}function J(a,h){if("image"===a.type&&
q){var g=b("#image-canvas-caption #canvasCaption"),d=c.staticStrings,f=c.colorImages,L=a.color,l=a.index;if(e.isShoppableScenesEnabled()&&a.shoppableScene)var p=d.clickSceneTagsToShopProducts;else h&&c.useIV?p=d.clickToExpand:f[L]&&f[L][l].hiRes&&c.useHoverZoom?(p=c.useHoverZoomIpad?d.touchToZoom:c.useClickZoom?d.clickToZoom:d.rollOverToZoom,c.hoverZoomIndicator&&(p="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+p)):c.useIV&&(p=d.clickToExpand);g.html(p)}}function D(a,b){return e.getIndexForVariant(a,
b,c)}function G(a,b,q){var g=b.thumbnailIndex,e=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;b="altImageHover"===q&&y&&y.altImageIdx===g&&y.asin===e&&"swatchClick"===y.event?!0:"swatchHover"===q?y&&y.asin===e&&y.event===q:y&&y.altImageIdx===g&&y.asin===e&&y.event===q;if(!b){var d="#",f=a.find(".imgTagWrapper img").get(0);f&&(d=f.src);a=new Image;a.onload=function(){if(f){f.src=d;var a=f.width,b=f.height,c=f.naturalWidth,L=f.naturalHeight;try{var p=(Math.abs(a/c*L-b)/b).toFixed(2);.01<p&&(u.ue&&
((("landing"!==q||E||h)&&"swatchClick"!==q||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===q||"swatchClick"===q)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==q||h?"altImageHover"!==q||E||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),E=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),h=!0)),u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},u.ueLogError("swatchHover"===q?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
e+" Event:"+q+" Diff:"+p.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+g+" Event:"+q+" Diff:"+p.toString()+"]"},a)))}catch(ja){u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(ja,a))}}};"#"!==d&&(a.src=d);y.altImageIdx=g;y.asin=e;y.event=q}}function t(a,h){var g="a-dynamic-image";if(!c.acEnabled){var q;b.each(a.main,function(a,b){e.isDefined(q)||(q=parseFloat(b[1]/b[0])<=parseFloat(c.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});g+=q}var d=e.getMaxDimensionsOfMainImage(a.main,v,c),f=d[0],L=d[1];d=b("\x3cdiv\x3e\x3c/div\x3e");f={"max-height":f,"max-width":L};d.addClass(g).css(f).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:h}).data("a-dynamic-image",a.main);return d}function x(b,h,q){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",g,{wb:1});q.attr("data-a-image-name","shoppable-scene:"+b);q=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
q.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":g,"data-csa-c-slot-id":g,"data-csa-c-type":"widget","data-csa-c-asin":c.mediaAsin,"data-csa-c-physical-id":h.shoppableScene.physicalId,"data-product-line":h.shoppableScene.productLine});q.children("span").css("display","inline-block");A.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:h.shoppableScene,imageSource:h.hiRes||h.large||h.lowRes,$tagPlaceholder:q.find(".mirai-scene-tag-placeholder"),$viewProductsButton:q.find(".mirai-scene-view-products-button")});
"MutationObserver"in u&&(new MutationObserver(function(a,c){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:h.shoppableScene})}),c.disconnect())})})).observe(q.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return q}function R(b,c,h){h=t(b,h);b=e.isShoppableScenesEnabled()&&b.shoppableScene?x(c,b,h):a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");b.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});b.find(".placeHolder").replaceWith(h);a.find(".list").append(b);
n.loadImageManually(h);n.trigger("dp:image-block:imageBlockImageLoad",c);return b}function Q(a){var b=v.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");c.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}function m(a){if(a.isUserGenerated){var b=p.getPreviousItem(),c=a.variant;e.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(N.isEnabled&&H.logAltImgRequestServed(N),k.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+c),k.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function d(g,q,d,f){if(2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||f||"unavailable"===g.type){if("image"===g.type||"unavailable"===g.type||"lazy-loaded"===g.type){(l=e.isDefined(q))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=e.getImageHash(g.color,g.index,c);if(-1===d)return q={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
e.lazyLoadingRequired(g,p,c)||(A.dispatch("updateModel",q),e.showUnavailable(g.color)),-1;f=a.find(".item.itemNo"+g.thumbnailIndex);e.isjQueryObjDefined(f)||(f=R(d,g.thumbnailIndex,q),l?(h=E=!1,G(f,g,"swatchClick")):G(f,g,"altImageHover"));Q(f);A.dispatch("loadMagnifier");J(g);w(f,d);m(g);n.trigger("dp:image-block:update",d)}}else if(g=c.colorImages&&c.colorImages[d],b(".unrolledImg").each(function(a){b(this).remove()}),e.isDefined(g)){b.each(g,function(a,h){if(a<c.maxAlts){var g=b(".unrolledImg");
g[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+h.large+'" data-a-hires\x3d"'+h.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=g.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+h.large+'" data-a-hires\x3d"'+h.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}});n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var l=e.isDefined(q);l&&(k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
q())}}function l(b){var h=Math.max(D(b.color,p.getCurrentItem().variant),0);h=e.getImageHash(b.color,h,c);if(-1===h)return e.lazyLoadingRequired(b,p,c)||e.showUnavailable(b.color),-1;var g=a.find(".swatchHoverExp"),q=t(h);g.find(".imgTagWrapper").html(q);n.loadImageManually(q);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");Q(g);G(g,b,"swatchHover");n.trigger("dp:image-block:update",h)}function z(h,d){e.lazyLoadingRequired(h,p,c)||(b("#imageBlock").css("opacity","1"),a.css("opacity","1"),
e.spinner(a,!1),a.find("li").removeClass("selected"),q&&b("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),d&&a.find(".list .item").remove())}function f(){var h=a.find(".item .imgTagWrapper"),q=e.getContainerHeight(v,c.holderRatio,c.holderMaxHeight);0<q&&(v.height(q),h.height(q));a.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&n.loadDynamicImage(this);var h=a.data("a-dynamic-image");h=e.getMaxDimensionsOfMainImage(h,v,c);a.css({"max-height":h[0]+
"px","max-width":h[1]+"px"})})}function F(a){J(p.getCurrentItem(),"mouseenter"===a.type)}var P,c,p,A,W,ba,r,a,v,y={},C,I=null,E=!1,h=!1,q=(K=n.state("imageBlockStateData"))?!K.shouldRemoveCaption:!0;n.on("triggerImageAjax",function(a){var b=p.getCurrentItem().color;c.colorImages[b]||(c.colorImages[b]=a);a={type:"updatedData",data:p.getCurrentItem()};A.dispatch("updateView",a);(b=c.colorToAsin[b])&&b.asin&&B.register(e.rankedImagesReadyEvent(b.asin))});return function(h,q,m,n){P=this;c=h;p=q;A=n;c.colorImages[c.landingAsinColor]=
c.colorImages[c.defaultColor];P.render=function(h,q,g,f,l,m,k,n){a=2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment?g:b(".unrolledScrollBox");r=f;v=l;C=M(q,h,m);m?0===q&&G(a.find(".item.itemNo0"),p.getCurrentItem(),"landing"):(q=p.getCurrentItem(),e.lazyLoadingRequired(q,p,c)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));z(p.getCurrentItem(),!m);2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?"swatchClick"===n&&c&&c.colorImages?(I=c.colorImages[h],
d(p.getCurrentItem(),k,h,m)):"updatedData"===n&&c&&c.colorImages&&c.colorImages[h]!==I&&(I=c.colorImages[h],d(p.getCurrentItem(),k,h,m)):d(p.getCurrentItem(),k,h,m);return C};e.isImageBlockGridViewHoverDelayEnabled()?P.update=function(a){var b=a.data;p.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(p.setToPreviousItem(),"mouseenter"===a.type?(ba&&clearTimeout(ba),ba=setTimeout(function(){p.setToCurrentItem(b);z(a.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===a.type?ba&&clearTimeout(ba):
"click"===a.type&&(p.setToCurrentItem(b),z(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&z(a.data,!1),b.color===p.getCurrentItem().color?d(p.getCurrentItem(),null,b.color,!0):a.captured||-1===l(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+C),W&&clearTimeout(W),W=setTimeout(function(){d(b,null,b.color,!0);c.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,
r)},e.getHoveringDelayTimer())):"mouseleave"===a.type?W&&clearTimeout(W):"click"===a.type&&(d(b,null,b.color,!0),e.selectGivenThumbnail(a.$declarativeParent,r),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+C)))}:P.update=function(a){var b=a.data;p.setCurrentEvent(a);"ingress"!==b.type&&z(a.data,!1);"swatchHover"===a.type?b.color===p.getCurrentItem().color?d(p.getCurrentItem(),null,b.color,!0):a.captured||-1===l(b)||(a.captured=
!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+C),d(b,null,b.color,!0),c.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,r),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+C))))};c.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");A.register("imageHover",F);
A.register("resize",f)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,b,e,u){function k(e,m){e=b("\x3cimg src\x3d'"+(m?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:m?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(m?"active-tag":"inactive-tag");return e}function K(e){var m=b("\x3cspan\x3e");n.each(e.tags,function(e){var d=b("\x3cdiv\x3e").css({position:"absolute",
left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});d.append(k(e,!1));d.append(k(e,!0));d.bind("mouseenter",function(){H(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});n.declarative.create(d,"scenes-show-details-tags-ib",{tagId:e.link});m.append(d)});return m.children()}function H(b){b.addClass("mirai-scene-dot-pulsate");n.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function O(b,e){b.css({display:"none"});e.css({display:"inline-block"})}function M(b,
e,d){b.eq(d).css({display:"inline-block"});e.eq(d).css({display:"none"})}function w(b){B.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",{physicalId:b})})}function J(){var e=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),m=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),d=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
d.html(t.staticStrings.shoppableSceneViewProductsButton);return e.append(m).append(d)[0].outerHTML}function D(b){function e(){b.$tagPlaceholder.replaceWith(l);var c=l.find(".mirai-scene-tag.active-tag"),e=l.find(".mirai-scene-tag.inactive-tag");M(c,e,0);H(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));R=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});x=!0;u.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(b.shoppableScene){var d=b.$viewProductsButton.find(".a-button-text");if(0===d.children().length){d.append(J());n.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:b.shoppableScene.tags[0].link});var l=K(b.shoppableScene),k=l.find(".mirai-scene-tag.active-tag"),f=l.find(".mirai-scene-tag.inactive-tag"),w=b.shoppableScene.physicalId,x=!1;n.on("mirai:index:change",function(b){b.scenePhysicalId===w&&(b=b.selectedIndices[0],O(k,f),M(k,f,b),H(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),
R=!0)});n.on("mirai:scene-details-change",function(b){b.physicalId!==w||R||(O(k,f),M(k,f,0),H(l.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),R=!0)});n.on("mirai:no-products-active",function(b){b.scenePhysicalId===w&&O(k,f)});n.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===w&&(O(k,f),M(k,f,0))});n.on("a:image:load:shoppable-scene:"+b.index,function(){x||(e(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",
function(c){c.index!=b.index||x||(e(),u.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});B.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){n.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});n.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var G,t,x,R=!1;return function(b,k,d,l){G=this;t=b;x=l;e.isShoppableScenesEnabled()?(x.register("initialize-shoppable-scene",
D),G.render=function(b,e,d,l,c,p,k){},G.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?w(b.data.shoppableScene.physicalId):R=!1)}):(b=function(){},G.render=b,G.update=b)}});B.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};B.when("A",
"jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,b,e,K,k,B,H,O,M){function w(a){return null!==a&&"undefined"!==typeof a}function J(a){var h=0;b.each(a,function(a,b){a=parseInt(b[1],10);a>h&&(h=a)});return h}function D(a){var h=0;b.each(a,function(a,b){a=parseInt(b[0],10);a>h&&(h=a)});return h}function G(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=J(a);0<a&&(b=
Math.min(b,a));return b}function t(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function x(a){var c;b.each(a,function(a,b){w(c)||(c=b[1]/b[0])});return c||1}function R(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function Q(a,c,g,f,p,l,k,n,r,v,t,u,w,y,x){var h=b.extend({},g.foresterMetadataParams);null!==f&&(h.method+="."+f);var q=[];c.disabledViewIds&&(q=c.disabledViewIds);x=x&&x.videoBackgroundChromefulMainView?
x.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===y&&(x="transparent");return e.embed({parentElement:a[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:g.swfUrl,foresterMetadataParams:h,backgroundColor:x,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:g.videoAds,bindings:{play:function(){if("ImmersiveView"===f)A||(A=!0,K.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(W||(W=!0,K.postCountMetric("dppc_chromefulVideoPlayedPV")),!v){var a=K.buildNexusMetric("ib.thumbnailClick",r,c.mediaObjectId,c.rankingStrategy,c.groupType,t,u,w);K.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,b,c){p&&(m(0,l,n),d(k))}}],disabledViewIds:q})}function m(a,b,c){b.fadeTo(500,0,function(){l(a,c);b.fadeTo(500,1)})}function d(a){a&&a.toggle()}function l(a,c){c=c.find("img");w(c[a])&&b(c[a]).click()}function z(b,c){a[b]=c?c:a[b];
return a[b]}function f(a,c,g){g=g||r;g=g.colorImages;if(1>g.length||!w(g[a])||!w(c))return-1;var h=-1;b.each(g[a],function(a,b){b.variant===c&&(h=a)});return h}function F(a,c,g){g=g||r;g=g.colorImages;return!(w(g)&&w(g[a])&&w(g[a][c])&&w(g[a][c].main))||1>b.map(g[a][c].main,function(a,b){return b}).length?-1:g[a][c]}function P(a,b,c,e){e.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,e.css("width",""),e.css("height",""),a>b?e.css("width",b/a*100+"%"):e.css("height",a/b*100+"%"))}function c(a,c){var h;
if(h=a.useIV)h=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;a=h;H.isEnabled&&(H.IVApplicaple=a,O.logImmersiveViewApplicability(b,H));return a}function p(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var A,W,N,r=b.extend(!0,{},k,B),a={},v=0,y=0,C=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,I={},E={};return{isDefined:w,isDefinedAndEmpty:function(a){return w(a)&&"object"===("undefined"===
typeof a?"undefined":V(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":V(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":V(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:x,getMaxHeightOfMainImage:t,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),
b.width()];var h=t(a,b,c);b=G(a,b,c);a=x(a);c=b/a;b=Math.min(b,h*a);h=Math.min(h,c);return[h,b]},getContainerHeight:function(a,b,c){var h=a.get(0);a=0;if(w(h)){a=Math.min(h.offsetWidth/b,c);var e;b=r.mainImageHeightPartitions;c=r.mainImageMaxSizes;if(w(c)&&w(b)){var g=0,d=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(h=0;h<b.length;h++)d>b[h]&&(g=h+1);c.length>=g&&(e=c[g])}w(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||r;var h=
"";b.each(c.visualDimensions,function(b,c){a[c]&&(h+=" "+a[c])});return h&&h.substring(1)}},createThumbnail:function(a,b,c,e){var h=c.find(".template").clone().removeClass("template").addClass("item"),d=document.createElement("img");d.src=b;h.find(".placeHolder").replaceWith(d);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&h.addClass("heroImageThumbnail");w(e)&&h.addClass(e);p()&&h&&(e=document.createElement("div"),e.className="imageBlockThumbnailImageGrayOverlay",d.parentNode.insertBefore(e,
d));n.declarative.create(h,"thumb-action",a);h.attr&&(h.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(h.attr("data-csa-c-type","uxElement"),h.attr("data-csa-c-element-type","navigational"),h.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(h.attr("data-csa-c-type","uxElement"),h.attr("data-csa-c-element-type","navigational"),h.attr("data-csa-c-action","image-block-alt-image-hover")),h.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(h);return h},updateImageThumbnailOverlay:function(a,
b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,e,d,f,p,l){Q(a,b,c,e,d,f,p,l,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:Q,loadMediaIntoAiry:function(a,b,c,e){a&&a.getMediaSourceInfo()!==b.url&&(e?a.loadMedia?
(N={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(N)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:R(b.url),
contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:m,toggleVideoCaption:d,selectThumbnail:l,spinner:function(a,c){var e=b("#imageBlock .a-spinner").parent();0===e.length&&(e=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
a.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:z,getIndexForVariant:f,getImageHash:F,lazyLoadingRequired:function(a,b,c){b=Math.max(f(a.color,
b.getCurrentItem().variant,c),0);b=-1!==F(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==z(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:P,repositionVideoBanner:function(a,b,c,e){setTimeout(function(){var c=a.width()/a.height();P(c,16,9,b)},e||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:
0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!w(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return w(a)&&w(a[b])&&w(a[b].url)?a[b]:-1},isImmersiveViewEnabled:c,playVideoInImmersiveView:function(a,b){return c(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return w(N)?N.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,
clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)},isShoppableScenesEnabled:function(){return M.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:p,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},
getHoveringDelayTimer:function(){return v},updateThumbnailHoverDelay:function(a){if(w(a)){v=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c=y;a=a.closest("ul").attr("class");a===aa?c=!1:(a=C.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(v=100);y=b}}},setDimensionIngressData:function(a,b,c){I[a]=b;E[a]=c},isDimensionIngressEnabled:function(a){return!!I[a]},getDimensionVariantList:function(a){return E[a]},
logError:function(a,b,c,e){u.ueLogError&&u.ueLogError(e,{logLevel:a,attribution:b,message:c})}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,b,e,K,k,N){function H(c,d,f,g){!a.autoplayVideo||ma||a.useChromelessVideoPlayer?!e.isjQueryObjDefined(c.find(".a-button-selected"))&&(f=v.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===f.type&&a.autoplayVideo)&&(g=e.getVideoHash(f.color,0,a),
-1===g||f.thumbnailIndex>=a.maxAlts-1||(d+=0,y.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),e.selectGivenThumbnail(b(d),c))):(e.selectGivenThumbnail(c.find("img:last"),c),e.fadeToThumbnail(c.find("img").length-1,h,c))}function O(b){var c=v.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var e={type:"updatedData",data:v.getCurrentItem()};
y.dispatch("updateView",e)}};a.lazyLoadExperienceDisabled?d():B.when(e.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}function M(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:v.getCurrentItem()},y.dispatch("updateView",b))}function w(b){if(!a.useChildVideos)return e.lazyLoadingRequired(v.getCurrentItem(),v,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){O(a)},K.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function J(b){g&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(g.hide(),I.parent().css("z-index",-1),E&&E.hide())}function D(b,c,d){c=h.width()/h.height();var f=parseInt(b.videoWidth,10),p=parseInt(b.videoHeight,10);e.updateAspectRatio(c,
f,p,I);if(g&&"unrolled-video-add"!==d)g.show(),e.loadMediaIntoAiry(g,b,L,a.tabletWeb);else if(a.tabletWeb)g=U;else{if("unrolled-video-add"===d){g=U;return}if(null===U||U===aa)Y=setInterval(function(){g=U;g!==aa&&null!==g&&(g.show(),e.loadMediaIntoAiry(g,b,L,a.tabletWeb),G(),m(g),clearInterval(Y),Y=null)},500);else if(g=U,g!==aa&&null!==g){g.show();e.loadMediaIntoAiry(g,b,L,a.tabletWeb);G();m(g);return}}G();m(g)}function G(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(a)){if(1<
e.getVideosCount(v.getCurrentItem().color,a)&&E){if(e.isDefined(q)){E.show();return}q=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);E.find("#videoCaption").append(q);n.declarative.create(q,"videoIngressClick",S)}e.playVideoInImmersiveView(a,v.getCurrentItem().color)&&(n.declarative.create(I,"videoIngressClick",S),I.attr&&I.attr("data-ux-click",""),I.children().css("z-index","-1"),I.css("display","inline-block"))}else E&&(E.find("#videoCaption").text(a.staticStrings.playVideo),
E.show())}function t(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var d=e.getVideoHash(b.color,b.index,a);if(-1===d)return-1;"chromeful-video"===b.type&&D(d,b.thumbnailIndex+1,c)}}function x(c,d,f){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&f)return c;var h=w(d);d=c;var g=b(".unrolledImg"),l=e.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;e.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&k.postCountMetric("IBVideoDrop");
g.length>a.maxAlts&&g.each(function(c){c>=a.maxAlts&&b(this).remove()});l&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):C.find(".item:last").remove(),c--);e.isDefined(h)&&(b.each(h,function(d,f){if(c<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var g=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+
g+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));
b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||R(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{g=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var p={type:g,index:d,thumbnailIndex:c,variant:f.variant};S={type:"video-ingress",index:d,thumbnailIndex:c,variant:f.variant};e.useTabbedImmersiveView(a)&&("chromeful-video"===
g&&(ka+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ka+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");e.createThumbnail(p,f.thumb,C,ka);2===a.dp60VideoPosition&&R(C,a.dp60VideoPosition);e.useTabbedImmersiveView(a)&&(Q(C.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),d=1<h.length?"multiple-videos":"one-video",(p=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<h.length?h.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo)&&C.find(".videoBlockIngress").append(C.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(d));f=k.buildNexusMetric("ib.thumbnailRender",c+1,f.mediaObjectId,f.rankingStrategy,f.groupType,da,T,X,ea);k.emitNexusMetric(f);ja||(ja=!0,k.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(e.useTabbedImmersiveView(a))return!1}),H(C,d,c,
f),P(p),a.imageBlockRenderingStartTime&&k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-a.imageBlockRenderingStartTime));return c}function R(c,e){if(0!==e)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var d=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage");c=c.children(".thumbType"+d);f&&c&&f[e-1]&&b(f[e-1]).before(c[0]);c=b(".unrolledScrollBox .list-unrolled");f=c.children(".unrolledImg.imgMedia");c=
c.children(".unrolledImg.videoMedia");f&&c&&f[e-1]&&b(f[e-1]).before(c[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&(c=e);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),f&&c&&f[e-1]&&b(f[e-1]).before(c[0])}function Q(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function m(b){a.autoplayVideo&&b&&!ma&&(E&&e.toggleVideoCaption(E),b.setVolume(0),b.show(),b.play(),ma=!0)}function d(c){g&&g.pause();c.data=S;c.clickTimeStamp=c.$event.timeStamp;var e="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";y.dispatch("imageClick",c);k.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=k.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,a.videos[0].groupType,da,T,X,ea);k.emitNexusMetric(c);k.postCountMetric(e);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function l(a){null!==g&&g!==aa&&(g.frame&&g.frame.remove(),g=null,U.frame&&U.frame.remove(),U=null);U=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");U.hide=function(){U.pause();n.$("#main-video-container").find(".vse-player-container").hide()};
U.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};U.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function z(c,f,g,p,l,k){J(k);I=null!==k?b("#unrolledImgNo"+k.thumbnailIndex):p.find("#main-video-container");sa&&(E=null!==k?"":I.parent().find("#video-canvas-caption"));h=null!==k?b(".unrolledScrollBox"):b("#main-image-container");null===k&&e.isImageBlockGridViewDisplayEnabled()&&(I.addClass("videoCenter"),p.find("#video-outer-container").addClass("videoWrapperCenter"));
da=u.location.href;c=v.getCurrentItem().color;!0===l?T=a.mediaAsin:(T=a.colorToAsin[c]&&a.colorToAsin[c].asin,T=e.isDefined(T)?T:a.mediaAsin);a.useChromelessVideoPlayer||I.addClass("chromeful-container");null!==k?t(k,"unrolled-video-add"):t(v.getCurrentItem(),"");e.useTabbedImmersiveView(a)&&n.declarative("videoIngressClick",["click"],d);if(-1!==m&&null!==k){c=v.getCurrentItem().color;var m=e.getVideoHash(c,k.index,a);l={requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines"+
k.thumbnailIndex,locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,imageURL:m.slateUrl},product:{contentID:ba(a,c),contentIDType:"ASIN"}};N.get(n,"#unrolledImgNo"+k.thumbnailIndex,l,function(){n.$("#unrolledImgNo"+k.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function f(a,c){function e(){var a=Math.floor((C.width()-1)/
p);return f?a-1:a}function d(a){a=e();c.slice(a).hide();c.slice(0,a).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){b(this).parent().attr("aria-hidden","true")});if(a<c.length){var d=a-1;a=c.eq(d);c.eq(d).find("img").parent().attr("aria-hidden","false");d=c.length-d;d=b("\x3cspan\x3e").addClass("textMoreImages").text(d+"+");a.find("img").after(d);a.addClass("overlayRestOfImages")}}var f=0!=C.find(".item.videoThumbnail").length,h=c.eq(0).width(),
g=c.eq(1).position().left-c.eq(0).position().left-h,p=h+g;d();a.register("resize",d)}function F(a){var b=C.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){f(a,b)})}}function P(a){try{if(!a)return!1;na=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<fa.length&&(la=new IntersectionObserver(c,a));fa.forEach(function(a){la.observe(a)})}catch(ua){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function c(a){na(a,ra,qa,fa,pa)}function p(a,c,e,d,f){try{b.each(a,function(a,h){var g=b(d).index(h.target);h.isIntersecting?ha[g]||(ha[g]=setTimeout(function(){c=c.slice();c.push(g);e=c.sort(function(a,b){return a-b});var a=A(e,f);if(0!==a.length&&0!==e.length){var b=v.getCurrentItem().color;b=w(b);W(b,a);delete ha[g]}},1E3)):(clearTimeout(ha[g]),delete ha[g],c=c.filter(function(a){return a!==g}),e=c.sort(function(a,b){return a-b}))})}catch(wa){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function A(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function W(a,c){try{if(!a||!c||0===a.length||0===c.length)return!1;b.each(c,function(b,c){if(c=1===fa.length?a[0]:a[c])b=k.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,c.groupType,u.location.href,T,X,ea),k.emitNexusMetric(b)})}catch(va){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function ba(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;
if(a.mediaAsin)return a.mediaAsin}return""}var r,a,v,y,C,I,E,h,q,g,L,S,ca,U,T,da,X,ea,V,ia,Z,ja=!1,ma=!1,ka="videoThumbnail",Y=null,la=null,qa,pa=[],fa,ra=[],na=null,oa=n.state("imageBlockStateData"),sa=oa?!oa.shouldRemoveCaption:!0,ha={};return function(c,d,f,g){r=this;a=c;v=d;y=g;L=a.airyConfig;X=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(V="tablet",ea="applicationType.ImageBlock.vse_ib_tablet_web"):
n.capabilities.tablet?(V="tablet",n.capabilities.isAmazonApp&&(ea="applicationType.ImageBlock.vse_ib_tablet_app")):(V="desktop",ea="desktop_web.ImageBlock.vse_ib_iv");r.render=function(c,d,f,g,h,p){null!==Y&&(clearInterval(Y),Y=null,I&&I.parent&&I.parent().css("z-index",-1),E&&E.hide&&E.hide());var l=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){C=b("ul.regularAltImageViewLayout");ca=x(d,c,p);l=[];d=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var k=0;k<d.length;k++){var m=d[k].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",q=Number(d[k].classList[2].slice(10)),r=b(".thumbItemUnrolled").index(d[k]);l.push({color:c,thumbnailIndex:r,type:m,varient:"MAIN",index:q})}for(k=0;k<l.length;k++)z(c,f,g,h,p,l[k])}else C=g,ca=x(d,c,p),z(c,f,g,h,p,null),c=v.getCurrentItem().color,f=e.getVideoHash(c,0,a),-1!==f&&(c=a.tabletWeb?e.getNilgiriServiceAjaxRequest(a,
c,f):{requester:"MediaBlockSoftlines",marketplaceID:f.marketPlaceID,clientPrefix:"mbSoftlines",locale:f.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:f.url,imageURL:f.slateUrl},product:{contentID:ba(a,c),contentIDType:"ASIN"}},N.get(n,"#main-video-container",c,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&
F(y);return ca};r.setupIntersectionObserverToWatchVideoThumbnail=P;r.emitMultipleImpressionMetric=W;e.isImageBlockGridViewHoverDelayEnabled()?r.update=function(b){null!==Y&&(clearInterval(Y),Y=null,I&&I.parent&&I.parent().css("z-index",-1),E&&E.hide&&E.hide());var c=b.data;"ingress"===c.type||"swatchHover"===b.type||e.lazyLoadingRequired(c,v,a)||(v.setToPreviousItem(),"mouseenter"===b.type?(Z&&clearTimeout(Z),Z=setTimeout(function(){v.setToCurrentItem(c);J(null)},e.getHoveringDelayTimer())):"mouseleave"===
b.type?Z&&clearTimeout(Z):"click"===b.type&&(v.setToCurrentItem(c),J(null)));if("swatchHover"===b.type)"ingress"===c.type||e.lazyLoadingRequired(c,v,a)||J(null),c.color===v.getCurrentItem().color?t(v.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(c,v,a)&&!e.lazyLoadOnHoverEnabled(a)&&t(v.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=e.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ca),d=k.buildNexusMetric("ib.thumbnailHover",
c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,d.groupType,da,T,X,ea),k.emitNexusMetric(d),ia&&clearTimeout(ia),ia=setTimeout(function(){t(c,"");!a.usePeekHover&&n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(b.$declarativeParent,C)},e.getHoveringDelayTimer())):"mouseleave"===b.type?ia&&clearTimeout(ia):"click"===b.type&&(t(c,""),n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(e.selectGivenThumbnail(b.$declarativeParent,C),d=k.buildNexusMetric("ib.thumbnailClick",
c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,d.groupType,da,T,X,ea),(!e.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==V)&&k.emitNexusMetric(d),e.useTabbedImmersiveView(a)&&(k.emitNexusMetric(d),k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ca),S.action="videoIngressClick",S.clickTimeStamp=b.$event.timeStamp,S.$event=b.$event,S.$currentTarget=b.$currentTarget,y.dispatch("videoIngressClick",S),k.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:
r.update=function(b){null!==Y&&(clearInterval(Y),Y=null,I&&I.parent&&I.parent().css("z-index",-1),E&&E.hide&&E.hide());var c=b.data;"ingress"===c.type||e.lazyLoadingRequired(c,v,a)||J(null);if("swatchHover"===b.type)c.color===v.getCurrentItem().color?t(v.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(c,v,a)&&!e.lazyLoadOnHoverEnabled(a)&&t(v.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=e.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){k.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+ca);var f=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,d.groupType,da,T,X,ea);k.emitNexusMetric(f)}t(c,"");a.usePeekHover&&"click"!==b.type||!n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(e.selectGivenThumbnail(b.$declarativeParent,C),"click"===b.type&&(d=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,d.groupType,da,T,X,ea),(!e.useTabbedImmersiveView(a)&&"chromeless-video"===
c.type||"tablet"==V)&&k.emitNexusMetric(d),e.useTabbedImmersiveView(a)&&(k.emitNexusMetric(d),k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ca),S.action="videoIngressClick",S.clickTimeStamp=b.$event.timeStamp,S.$event=b.$event,S.$currentTarget=b.$currentTarget,y.dispatch("videoIngressClick",S),k.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",O),n.on("notShowVideoCountAjax",M));n.on("vsePlayer-imageblock_tablet",
l);n.on("vsePlayer-mbsoftlines",l)}});"use strict";B.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,b){function e(b,e,N,H,O){function k(b){"click"===b.type&&H.postCountMetric("thumbClick");"click"===b.type&&f.overrideAltImageClickAction?F.dispatch("thumbActionClick",b):F.dispatch("updateSelection",b)}function w(b){f.useClickZoom||F.dispatch("imageClick",b)}function J(b){f.useClickZoom||F.dispatch("imageHover",b)}function D(b){F.dispatch("button360Click",b)}function G(c){!N.isDefined(c)||
"swatchClick"!==c.type&&"updatedData"!==c.type?(z.update(c),"swatchHover"!==c.type&&P.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&H.postCountMetric(c.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",c.data)):(z.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",c))}function t(b){F.dispatch("resize",b)}function x(b){N.selectThumbnail(b,
c)}function K(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function Q(){f.interactiveCallJSPEnabled||("function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===n.useIV?B.when("a-modal").execute(function(){K()}):
K());f.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],k);b.declarative("thumb-action",["click"],k);b.declarative("main-image-click",["click"],w);b.declarative("main-image-click",["mouseenter","mouseleave"],J);b.declarative("button-360-click",["click"],D);b.on("resize",t)}function m(b){var c=b.data,d;c&&"ingress"!==c.type&&"click"===b.type&&(d=b);return d}function d(b){var c=P.getCurrentItem(),d={type:"click"};d.$declarativeParent=b;d.data=c;return d}function l(b){N.isImageBlockGridViewHoverDelayEnabled()&&
"mouseenter"===b.type&&N.updateThumbnailHoverDelay(b.$target)}var z,f,F,P,c;return function(b,k,n){z=this;f=b;F=k;P=n;c=e("#imageBlock #altImages ul");var p=e("#imageBlock .canvas"),r=e("#main-image-container"),a;z.subViews=[];for(k=0;k<O.length;k++)z.subViews.push(new O[k](b,n,z,F));z.render=function(b,k,l,m){var n=0;c.find(".item").remove();b=b||P.getCurrentItem().color;e.each(z.subViews,function(a,d){n=(2===f.unrolledImageBlockTreatment||3===f.unrolledImageBlockTreatment?d.render(b,n,p,c,r,k,l,
m):d.render(b,n,p,c,r,k,l))||n});var h=c.find(".a-button-selected").closest(".a-declarative");a=d(h)};z.init=function(){c=e("#imageBlock #altImages ul");var a=c.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=f.landingAsinColor||f.defaultColor;F.dispatch("updateModel",{data:a});z.render(a.color,!0);f.isDebug&&u.console&&console.log(f);F.register("updateView",G);F.register("selectThumbnail",x);Q()};z.update=function(b){l(b);e.each(z.subViews,function(a,
c){c.update(b)});f.usePeekHover&&("mouseleave"===b.type?F.dispatch("updateSelection",a):"click"===b.type&&(a=m(b)||a))}}}b=["A","jQuery","imageBlockUtils","postMetric"].concat(n.views);B.when.apply(B,b).register("ImageBlockView",function(){for(var b=arguments[0],k=arguments[1],n=arguments[2],u=arguments[3],B=[],M=4,w=arguments.length;M<w;M++)B.push(arguments[M]);return e(b,k,n,u,B)})})});
/* ******** */
(function(u){var E=window.AmazonUIPageJS||window.P,ka=E._namespace||E.attributeErrors,m=ka?ka("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):E;m.guardFatal?m.guardFatal(u)(m,window):m.execute(function(){u(m,window)})})(function(u,E,ka){u.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(m,a,c,h,n){function da(e,b){var d=a(e+" image").attr("data");a(e+" image")[0].setAttribute("href",
d);e=new Image;e.src=d;e.onload=function(){b(this.width/this.height)}}function w(e){null!==a(e.euclidSvg)&&(new Promise(function(b,a){da(e.euclidSvg,b)})).then(function(b){if(null===a(e.featureDiv)||0===a(e.featureDiv).length||0>=b)var d=null;else{var c=a(e.featureDiv).width(),y=a(e.featureDiv).height(),k=2*(16+x(e.euclidHeightText,e.numberSpace)+10),g=c-k,R=a(e.euclidHeightLine).data("euclid-height-startx");0>R?k+=g*Math.abs(R)*2:1<R&&(k+=g*(R-1)*2);g=c-k;0>g&&(k=152);var m=a(e.euclidWidthLine).data("euclid-width-starty"),
l=1<m?y*(m-1)+50:50,p=y-l;if(g/p>b)var t=p*b,ja=p,D=p*b+k,ma=y;else t=g,ja=g/b,D=c,ma=g/b+l;d={imageWidth:t,imageHeight:ja,svgWidth:D,svgHeight:ma}}if("undefined"===typeof d||null===d||10>=d.imageWidth||10>=d.imageHeight||10>=d.svgWidth||10>=d.svgHeight)n.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var K=d,q=e.euclidSvg;a(q+" image").attr("width",K.imageWidth);a(q+" image").attr("height",K.imageHeight);a(q).attr("width",K.svgWidth);a(q).attr("height",K.svgHeight);var M=(K.svgWidth-
K.imageWidth)/2;a(q+" image")[0].setAttribute("x",M);a(q+" image")[0].setAttribute("y",10);var B=K.imageWidth,v=K.imageHeight,h=(K.svgWidth-K.imageWidth)/2,w=a(e.euclidLengthLine).data("euclid-length-startx")*B,z=a(e.euclidLengthLine).data("euclid-length-starty")*v,W=a(e.euclidLengthLine).data("euclid-length-endx")*B,r=a(e.euclidLengthLine).data("euclid-length-endy")*v,C=a(e.euclidWidthLine).data("euclid-width-startx")*B,Z=a(e.euclidWidthLine).data("euclid-width-starty")*v,G=a(e.euclidWidthLine).data("euclid-width-endx")*
B,Y=a(e.euclidWidthLine).data("euclid-width-endy")*v,O=a(e.euclidHeightLine).data("euclid-height-startx")*B,da=a(e.euclidHeightLine).data("euclid-height-starty")*v,X=a(e.euclidHeightLine).data("euclid-height-endx")*B,J=a(e.euclidHeightLine).data("euclid-height-endy")*v,ca=(Y-Z)/(G-C),E=0>=ca?"leftInclined":"rightInclined",ta=1/ca,oa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ta,2)))),ra=0===oa?16:Math.abs(ta*oa),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ta,2)))),va=0===sa?3:Math.abs(ta*sa),
kb=(r-z)/(W-w),Va=1/kb,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Va,2)))),u=0===pa?16:Math.abs(Va*pa),H=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Va,2)))),L=0===H?3:Math.abs(Va*H),U=0>=kb?"leftInclined":"rightInclined";if(.5<a(e.euclidHeightLine).data("euclid-height-startx")){var Q=O+h+16,S=da+10,T=X+h+16,V=J+10,la=O+h+16-3,ba=da+10,ia=O+h+16+3,ka=da+10,lb=X+h+16-3,mb=J+10,nb=X+h+16+3,ob=J+10,pb=(Q+T)/2+5,qb=(S+V)/2+8,Da=G+h+oa,Ea=Y+ra+10,Fa=C+h+oa,Ga=Z+ra+10,rb=G+h+oa-sa,sb=Y+ra-va+10,
tb=G+h+oa+sa,ub=Y+ra+va+10,vb=C+h+oa-sa,wb=Z+ra-va+10,xb=C+h+oa+sa,yb=Z+ra+va+10;if("leftInclined"===E){var Wa=(Da+Fa)/2;var Xa=(Ea+Ga)/2+15}else Wa=(Da+Fa)/2+5,Xa=(Ea+Ga)/2;var Ha=w+h-pa,Ia=z+u+10,Ja=W+h-pa,Ka=r+u+10,zb=w+h-pa-H,Ab=z+u+L+10,Bb=w+h-pa+H,Cb=z+u-L+10,Db=W+h-pa-H,Eb=r+u+L+10,Fb=W+h-pa+H,Gb=r+u-L+10,Jb=x(e.euclidLengthText,e.numberSpace);if("leftInclined"===U)var Ya=(Ha+Ja)/2,Za=(Ia+Ka)/2+15;else Ya=(Ha+Ja)/2-Jb,Za=(Ia+Ka)/2+15}else{Q=O+h-16;S=da+10;T=X+h-16;V=J+10;la=O+h-16-3;ba=da+
10;ia=O+h-16+3;ka=da+10;lb=X+h-16-3;mb=J+10;nb=X+h-16+3;ob=J+10;var Kb=x(e.euclidHeightText,e.numberSpace);pb=(Q+T)/2-Kb-3;qb=(S+V)/2+8;Da=G+h-oa;Ea=Y+ra+10;Fa=C+h-oa;Ga=Z+ra+10;rb=G+h-oa-sa;sb=Y+ra+va+10;tb=G+h-oa+sa;ub=Y+ra-va+10;vb=C+h-oa-sa;wb=Z+ra+va+10;xb=C+h-oa+sa;yb=Z+ra-va+10;var Hb=x(e.euclidWidthText,e.numberSpace);"leftInclined"===E?(Wa=(Da+Fa)/2-Hb,Xa=(Ea+Ga)/2):(Wa=(Da+Fa)/2-Hb,Xa=(Ea+Ga)/2+15);Ha=w+h+pa;Ia=z+u+10;Ja=W+h+pa;Ka=r+u+10;zb=w+h+pa+H;Ab=z+u+L+10;Bb=w+h+pa-H;Cb=z+u-L+10;Db=
W+h+pa+H;Eb=r+u+L+10;Fb=W+h+pa-H;Gb=r+u-L+10;"leftInclined"===U?(Ya=(Ha+Ja)/2,Za=(Ia+Ka)/2+15):(Ya=(Ha+Ja)/2+15,Za=(Ia+Ka)/2)}var Lb=Ha;var Mb=Ia;var Nb=Ja;var Ob=Ka;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Eb;var Vb=Fb;var Wb=Gb;var Xb=Ya;var Yb=Za;var Zb=Da;var $b=Ea;var ac=Fa;var bc=Ga;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=wb;var ic=xb;var jc=yb;var kc=Wa;var lc=Xa;var mc=Q;var nc=S;var oc=T;var pc=V;var qc=la;var rc=ba;var sc=ia;var tc=ka;var uc=lb;var vc=mb;
var wc=nb;var xc=ob;var yc=pb;var zc=qb;N(q+" .hit-pd-euclid-height-line",mc,nc,oc,pc);N(q+" .hit-pd-euclid-height-start",qc,rc,sc,tc);N(q+" .hit-pd-euclid-height-end",uc,vc,wc,xc);qa(q+" .hit-pd-euclid-height-text",yc,zc);N(q+" .hit-pd-euclid-width-line",Zb,$b,ac,bc);N(q+" .hit-pd-euclid-width-start",cc,dc,ec,fc);N(q+" .hit-pd-euclid-width-end",gc,hc,ic,jc);qa(q+" .hit-pd-euclid-width-text",kc,lc);N(q+" .hit-pd-euclid-length-line",Lb,Mb,Nb,Ob);N(q+" .hit-pd-euclid-length-start",Pb,Qb,Rb,Sb);N(q+
" .hit-pd-euclid-length-end",Tb,Ub,Vb,Wb);qa(q+" .hit-pd-euclid-length-text",Xb,Yb);P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(e===fa&&"dimension-ingress-image"===I.getCurrentItem().type?(F(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),n.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-wa)):e===na&&(a("ivDimensionTab").css("display","block"),f(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),n.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ha)))}});P("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&H(e===fa,I.getCurrentItem(),null)}function x(e,b){return a(e).text().replace(/[^0-9]/g,"").length*b+5}function N(e,b,d,c,y){e=a(e)[0];e!==ka&&null!==e&&(e.setAttribute("x1",b),
e.setAttribute("y1",d),e.setAttribute("x2",c),e.setAttribute("y2",y))}function qa(e,b,d){var c=a(e)[0];c!==ka&&null!==c&&(c.setAttribute("x",b),c.setAttribute("y",d),e=a(e+" tspan"),e!==ka&&null!==e&&2===e.length&&(e[0].setAttribute("x",b),e[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),e[1].setAttribute("x",b),e[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function E(e){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){e=
g(e.color);if(null===e)return;if(e in J)P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&J[e].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),J[e]=b):u(e)}}w(fa)}}
function u(e){try{setTimeout(function(){ia++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(e in J||(J[e]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),w(fa)):100>
ia&&u(e)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function P(e){return"true"===a(e).attr("data-should-use-in-hero")}function H(e,b,d){var c=l.colorImages[b.color],ea=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");ea&&0<ea.length?(c=T(c),Q(c,e,b,d)):U(c,e,b,d)}function U(e,b,c,A){try{setTimeout(function(){d++;var ea=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
ea&&0<ea.length?(ea=T(e),Q(ea,b,c,A)):100>d?U(e,b,c,A):(n.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),ea=e[0],Q(ea,b,c,A))},100)}catch(y){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+y)}}function T(e){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),d=e[0],c=0;c<e.length;c++){var y=e[c];y.variant===b&&(d=y)}d===e[0]&&n.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return d}function Q(e,b,d,g){b?((b=K.find(".item.dimensionItemNo"+d.thumbnailIndex))&&b.remove(),b=d.thumbnailIndex,g=C(e,g),d=K.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),d.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),d.find(".placeHolder").replaceWith(g),d.find(".a-declarative").attr("data-action",
"dimension-hero-click"),K.find(".list").append(d),m.loadImageManually(g),g=b=d,d=ma.css("height"),null!==d&&g.find(".imgTagWrapper").css("height",d),g.addClass("selected"),l.imgTagWrapperClasses&&g.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses),R.dispatch("loadMagnifier"),g=b,l.useIV&&c.isDefined(e.hiRes)&&g.css("cursor","pointer"),m.trigger("dp:image-block:update",e)):(L(e),f(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function L(e){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return S(b,d)}d=a("\x3cdiv\x3e\x3c/div\x3e");d.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");d.html(c);b.append(d);d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");d.attr("src",e.hiRes);return S(b,d)}function S(a,b){a=a.closest("#ivStageDimensions");var e=a.width();a={height:"auto","max-height":a.height(),"max-width":e,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function C(e,b){var d="a-dynamic-image";if(!l.acEnabled){var g;a.each(e.main,function(b,a){c.isDefined(g)||(g=parseFloat(a[1]/a[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var y=c.getMaxDimensionsOfMainImage(e.main,ma,l),f=y[0],k=y[1];y=a("\x3cdiv\x3e\x3c/div\x3e");f={"max-height":f,"max-width":k};y.addClass(d).css(f).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",e.main);return y}function t(){a("#image-canvas-caption #canvasCaption").html(l.dimensionIngressAtfData.initial.heroImageCaption)}
function g(a){var b=l.colorToAsin[a];return b&&b.asin?a=l.colorToAsin[a].asin:a=l.mediaAsin?l.mediaAsin:null}function B(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function F(){null!==a(fa.euclidSvg)&&0!==a(fa.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):H(fa,I.getCurrentItem(),null)}function q(a,b){l.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function G(a){a.action="dimensionIngressClick";a.data=W;R.dispatch("dimensionIngressClick",a)}function z(){ha=Date.now();if(Y&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var d=g(I.getCurrentItem().color);if(null!==d){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",b);d in J?J[d].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),J[d]=b):M(d));h.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,l);h.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));O();Y=!1}d=a("#iv-tab-view-container").find("#ivThumbsDimensions");
d.find(".ivRow").not(".placeholder").remove();b=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d);var c=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,f=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var y=
l.colorImages[I.getCurrentItem().color];y=T(y);L(y);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}k(d,b,y.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}f&&(y=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),k(d,b,y,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}r()}function r(){Z=a("#ivDimensionTab").height();if(0!==
Z){h.detachImmersiveViewResizeHandler(z);var d=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),c=a("#ivDimensionTab").width();d.css("height",b);d.css("width",c);c=d.find("#ivTitleDimensions").outerHeight(!0);var g=d.find("#ivVariationSelectionDimensions").outerHeight(!0),f=d.find("#ivThumbsDimensions"),k=h.getDimension(f,"margin-top")+h.getDimension(f,"margin-bottom");f.css("height",b-c-g-k);c=d.find("#ivStageDimensions");d=(d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||
d.width())-h.getDimension(d,"padding-left")-h.getDimension(d,"padding-right")-d.find("#ivThumbColumnDimensions").width()-h.getDimension(c,"margin-left")-h.getDimension(c,"margin-right");c.css("width",d);c.css("height",b);w(na)}}function k(a,b,d,c,g){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:g}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(d)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");D(a,c)}function D(a,
b){a.click(function(){f(a,b)})}function f(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&S(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function M(d){try{setTimeout(function(){ba++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in J||(J[d]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),r()):100>ba&&M(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+b)}}function X(d,b){ca&&clearTimeout(ca);"mouseenter"===b.type&&(ca=setTimeout(function(){E(d);a("#image-canvas-caption #canvasCaption").empty();t();q(ja,b)},c.getHoveringDelayTimer()));"mouseleave"===b.type&&t()}var v,l,I,R,ja,K,ma,W,Y=!0,wa,ha,ca,
p,J={},ia=0,ba=0,d=0,Z,fa={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},na={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},O=m.once(function(){h.attachImmersiveViewResizeHandler(z)});m.on.resize(function(){P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&w(fa)});return function(d,b,f,k){v=this;l=d;I=b;R=k;d=l.mediaAsin;b=[];l&&l.dimensionIngressAtfData&&l.dimensionIngressAtfData.initial&&(b=l.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(d,l.dimensionIngressEnabled,
b);v.render=function(d,b,e,f,k,R){ja=f;K=2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment?e:a(".unrolledScrollBox");ma=k;Y=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();ba=ia=0;e=g(I.getCurrentItem().color);if(null!==e){if(c.isDimensionIngressEnabled(e)&&l.dimensionIngressThumbURL&&l.dimensionIngressThumbURL.initial&&
l.dimensionIngressThumbURL.initial.length){e=c.getDimensionVariantList(e);if(e.includes("DIMN")||e.includes("DCMN"))Array.isArray(e)||(e=JSON.parse(e.replace(/(\w+)/g,'"$1"'))),e.push("DIMN"),e.push("DCMN");if(e&&0<e.length){k=l.colorImages[d];R=f.find(".item.imageThumbnail");for(var y=0;y<R.length&&y<l.maxAlts-1;y++){var h=k[y].variant;"MAIN"!=h&&e.includes(h)&&(h=R.eq(y))&&(h.remove(),b--)}}b===l.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),b--);W={type:"dimension-ingress-image",index:0,
thumbnailIndex:b,variant:"Main"};c.createThumbnail(W,l.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=l.dimensionIngressAtfData.initial.thumbnailCaption;f=a("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");f.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(f);b++;a("#ivDimensionTabHeading").removeClass("aok-hidden");
g(d)!==l.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return b}a("#ivDimensionTabHeading").addClass("aok-hidden")}};v.update=function(d){var b=d.data;I.setCurrentEvent(d);"dimension-ingress-image"===b.type?(b.interaction=d.type,b.isUserGenerated=!0,"mouseenter"===d.type&&(wa=Date.now(),n.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?
X(b,d):(E(b),a("#image-canvas-caption #canvasCaption").empty(),t(),q(ja,d)),"click"===d.type&&c.useTabbedImmersiveView(l)&&(G(d),n.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===d.type?b.color===I.getCurrentItem().color&&"dimension-ingress-image"===I.getCurrentItem().type?F():B():c.isImageBlockGridViewHoverDelayEnabled()?(I.setToPreviousItem(),"mouseenter"===d.type&&(p&&clearTimeout(p),p=setTimeout(function(){I.setToCurrentItem(b);B()},c.getHoveringDelayTimer())),"mouseleave"===
d.type&&p&&clearTimeout(p),"click"===d.type&&(I.setToCurrentItem(b),B())):B()};h.attachTabSelectHandler("ivDimensionTab",z);m.declarative("dimension-hero-click",["click"],G)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(m,a,c,h,n){function u(){n.populateTitle(g.find("#ivTitle"),160,C)}function w(){var a=t.getCurrentItem().color;F=C.colorImages[a];B=C.heroImage[a];q=G=0;c.isDefined(B)&&(q=B.length);
c.isDefined(F)&&(G=F.length)}function x(a){return a.hiRes||a.large||a.main[a.main.length-1]}function N(){var a=g.find("#ivStage").find("#ivLargeImage"),c=a.width(),k=a.height(),h=a.find(".fullscreen");h.removeAttr("style");var m=h.width(),l=h.height();0<h.length&&(h[0].naturalWidth&&(m=h[0].naturalWidth),h[0].naturalHeight&&(l=h[0].naturalHeight));a.css("cursor","auto");m=0===m?1:m;l=0===l?1:l;var n=Math.min(c/m,k/l),t=l*n,q=m*n;1>n?(r?a.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),f=!0):f=!1;m=Math.min(q,m);l=Math.min(t-20,l);h.css({"margin-top":(k-l)/2,"margin-left":(c-m)/2,height:l,width:m});a.css("visibility","visible");D=!1}function E(a){var c=g.find("#ivLargeImage");c.css("visibility","hidden");c.empty();n.animateStageIn(c);c.append(a);N()}function V(f){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var k;"hero-image"===f?c.isDefined(B)&&(k=x(B[z.index])):
c.isDefined(F)&&(k=x(F[z.index]));if(c.isDefined(k)){g.find(".fullscreen").remove();var h=a("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),l=g.find("#ivLargeImage");n.animateStageOut(l,function(){h.load(function(){E(h);m.trigger("dp:image-block:imageBlockImmersiveImageLoad",z.index)});if(h[0].complete)E(h),m.trigger("dp:image-block:imageBlockImmersiveImageLoad",z.index);else{l.empty();var c=(l.height()-104)/2,f=(l.width()-80)/2;a("\x3cimg\x3e").attr("src",C.staticImages.spinner).css({position:"relative",
top:c+"px",left:f+"px"}).appendTo(l)}})}}function la(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?z.type="hero-image":z.type="image";z.index=a.attr("id").split("_")[1];V(z.type);h.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(z.index,10)+1)+"_"+(q+G))}function P(){g.delegate(".ivThumb","click",function(){var c=a(this);la(c)})}function H(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function U(a){var c=X.top-(a.pageY-l[1])*v;a=H(X.left-(a.pageX-l[0])*
v,M.left);c=H(c,M.top);g.find(".fullscreen").css({left:a,top:c})}function T(){g.delegate("#ivLargeImage","click",function(a){if(D)N();else if(f){g.find(".fullscreen").removeAttr("style");if(f){var c=g.find("#ivLargeImage"),k=c.find(".fullscreen");r?c.css("cursor","url('"+C.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));D=!0;var m=g.find("#ivLargeImage");M.left=m.width()-k.width();M.top=m.height()-k.height();m=c.height()/
2;var n=c.width()/2;l=[c.offset().left+n,c.offset().top+m];X.top=m-k.height()/2;X.left=n-k.width()/2;k.css({position:"relative",left:X.left,top:X.top});v=Math.max(k.height()/c.height(),k.width()/c.width())}U(a);h.postCountMetric("dpcc_iv_largeImageCLick")}});g.delegate("#ivLargeImage","mousemove",function(a){D&&U(a)})}function Q(){g.find("#ivLargeImage").empty()}function L(f){if(k){g=a("#ivMain");w();z=t.getCurrentItem();u();n.populateVariationSelection(g.find("#ivVariationSelection"));f=g.find("#ivThumbs");
f.find(".ivRow").not(".placeholder").remove();var h=q+G,m=!1;C&&C.dimensionIngressAtfData&&C.dimensionIngressAtfData.initial&&(m=C.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var l=0,D=0;l<h;)for(var v=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),M=0;4>M&&l<h;M++,l++,D++)if(D<q){var r=B[l].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+l,"data-csa-c-type":"item",
"data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(v);x.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(r)+'") center no-repeat')}else if(D>=q&&D<G+q){r=C.colorToAsin[t.getCurrentItem().color].asin;r||(r=C.mediaAsin);if((x=c.isDimensionIngressEnabled(r))&&m){if((r=c.getDimensionVariantList(r))&&r.includes(F[l-q].variant)){M--;continue}}else if(x&&"DIMN"===F[l-q].variant){M--;continue}r=F[l-q].thumb;
x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-q),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":l-q+1}).appendTo(v);x.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(r)+'") center no-repeat')}I();k=!1}else u();f=a("#ivImagesTab").height();g.css("height",f);h=g.find("#ivTitle").outerHeight(!0);m=g.find("#ivVariationSelection").outerHeight(!0);
l=g.find("#ivThumbs");D=n.getDimension(l,"margin-top")+n.getDimension(l,"margin-bottom");l.css("height",f-h-m-D);g.find("#ivLargeImage").css("height",f);f=g.find("#ivStage");h=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||g.width();f.css("width",h-n.getDimension(g,"padding-left")-n.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-n.getDimension(f,"margin-left")-n.getDimension(f,"margin-right"));z=t.getCurrentItem();f="hero-image"===z.type?g.find("#ivHeroImage_"+
z.index):"image"===z.type?g.find("#ivImage_"+z.index):c.isDefined(B)?g.find("#ivHeroImage_"+z.index):g.find("#ivImage_"+z.index);c.isjQueryObjDefined(f)||(f=g.find("#ivImage_0"));la(f)}var S,C,t,g,B,F,q,G,z,r=navigator.userAgent.match(/msie|trident/i),k=!0,D=!1,f=!1,M={},X={},v,l;k=!0;var I=m.once(function(){P();T();n.attachImmersiveViewResizeHandler(L);n.attachTabDeselectHandler("ivImagesTab",Q)});return function(c,f,g,h){S=this;C=c;t=f;S.render=function(c,f,g,h,l,m){k=!0;w();0===q+G?n.hideTabHeading("ivImagesTabHeading"):
n.unhideTabHeading("ivImagesTabHeading");1===q+G?a("#ivThumbs").hide():a("#ivThumbs").show()};S.update=function(a){};n.attachTabSelectHandler("ivImagesTab",L)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(m,a,c,h,n,da,w){function x(){var c=P.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),g=c.find(".a-popover-inner");c=c.height()-
w.getDimension(g,"padding-top")-w.getDimension(g,"padding-bottom");a("#iv-tab-view-container").css("height",c);T=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<T?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),g=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=g):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);m.trigger("dp:image-block:immersive-view:resize")}
function N(){m.trigger("dp:image-block:immersive-view:reset")}function qa(t){if(c.isImmersiveViewEnabled(la,P.getCurrentItem().color))if(L){var g=t.$event.originalEvent;g.acknowledge&&g.acknowledge(t.$currentTarget[0]);n.isEnabled&&da.logImmersiveViewRequestServed(n);h.postCountMetric("dppc_immersiveViewOpened");c.isDefined(t)&&("button-360-click"===t.action?a("#iv360TabHeading").click():"videoIngressClick"===t.action?(Q=t.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===
t.action?(Q=t.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===t.action?(Q=t.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());g=P.getImmersiveViewModalInstance();if(c.isDefined(g))g.show();else{t=a("#auiImmersiveViewDiv");g=Math.min(Math.max(a(E).height()-150,540),1080);var B=Math.min(Math.max(a(E).width()-75,990),1980);g=L.create(t,{name:"immersiveView",activate:"onclick",width:B,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});
P.setImmersiveViewModalInstance(g);t.click()}U&&(U=!1,S(),m.trigger("dp:image-block:immersive-view:init"))}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}var V,la,P,H,U=!0,T=0,Q,L;u.when("a-modal").execute(function(a){L=a});var S=m.once(function(){m.on("a:popover:afterUpdatePosition:immersiveView",x);m.on("a:popover:afterShow:immersiveView",
x);m.on("a:popover:afterHide:immersiveView",N)}),C=m.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(g){var n=c.filter(".iv-active");n.attr("id")!==a(this).attr("id")&&m.trigger("dp:ivTabs:"+n.find("a").attr("data-iv-tab-view")+":deselect",g);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();n=a(this).find("a").attr("data-iv-tab-view");a("#"+n).show();"ivVideosTab"===n&&(g.clickTimeStamp=Q||g.timeStamp);
m.trigger("dp:ivTabs:"+n+":select",g);h.postCountMetric("dppc_"+n);return!1})});return function(a,g,w,x){V=this;la=a;P=g;n.refToModel=P;H=x;V.render=function(a,c,g,m,k,n){h.postCountMetric("dpcc_altThumbs_"+c);U=!0};V.update=function(a){};V.getTitle=function(){};V.getVariationSelectionInfo=function(){};C();c.isImmersiveViewEnabled(la,P.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");H.register("imageClick",qa);H.register("button360Click",qa);la.collapsibleThumbnails&&m.declarative("thumb-action",
["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&qa(a)});c.useTabbedImmersiveView(la)&&(H.register("videoIngressClick",qa),H.register("showroomIngressClick",qa),H.register("dimensionIngressClick",qa))}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(m,a,c,h,n,da,w,x){function N(a){return a.hiRes||a.large||a.main[a.main.length-
1]}function qa(){d.find("#ivTitle").click(function(){ba.hide()})}function V(){A=ib?{type:"360-spin"}:J.getCurrentItem()}function la(){var a=d.find("#ivStage"),b=ba.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-x.getDimension(c,"padding-top")-x.getDimension(c,"padding-bottom");d.css("height",b);c=d.find("#ivTitle").outerHeight(!0);var e=d.find("#ivVariationSelection").outerHeight(!0),f=d.find("#ivMediaSelection").outerHeight(!0),k=d.find("#ivThumbs"),g=x.getDimension(k,
"margin-top")+x.getDimension(k,"margin-bottom");k.css("height",b-c-e-f-g);d.find("#ivLargeImage").css("height",b);a.css("width",d.width()-x.getDimension(d,"padding-left")-x.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-x.getDimension(a,"margin-left")-x.getDimension(a,"margin-right"))}function P(){d.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").show(),"chromeful-video"===A.type&&
d.find("#ivVideo_"+A.index).click()):"images"===b?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").hide(),"chromeful-video"===A.type&&(0===e&&0===O?d.find("#iv360").click():0===e?d.find("#ivHeroImage_0").click():d.find("#ivImage_0").click())):"videos"===b&&(d.find("#ivVideoList").show(),d.find("#ivThumbs").hide(),"chromeful-video"!==A.type?d.find("#ivVideoList_0").click():d.find("#ivVideoList_"+A.index).click())})}function H(){var a=d.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var f=e.width(),k=e.height();0<e.length&&(e[0].naturalWidth&&(f=e[0].naturalWidth),e[0].naturalHeight&&(k=e[0].naturalHeight));a.css("cursor","auto");f=0===f?1:f;k=0===k?1:k;var g=Math.min(b/f,c/k),h=k*g,l=f*g;1>g?(jb?a.css("cursor","url('"+p.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Ra=!0):Ra=!1;f=Math.min(l,f);k=Math.min(h-20,k);e.css({"margin-top":(c-
k)/2,"margin-left":(b-f)/2,height:k,width:f});a.css("visibility","visible");Qa=!1}function U(a){var b=d.find("#ivLargeImage");b.css("visibility","hidden");b.empty();x.animateStageIn(b);b.append(a);H()}function T(){y&&y.pause();d.find("#ivLarge360").css("display","none");d.find("#ivLargeVideo").css("display","none");d.find("#ivLargeImage").css("display","none");B()}function Q(b){T();d.find("#ivLargeImage").css("display","block");var ta;"hero-image"===b?c.isDefined(Z)&&(ta=N(Z[A.index])):c.isDefined(fa)&&
(ta=N(fa[A.index]));if(c.isDefined(ta)){d.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",ta).addClass("fullscreen"),f=d.find("#ivLargeImage");x.animateStageOut(f,function(){e.load(function(){U(e)});if(e[0].complete)U(e);else{f.empty();var b=(f.height()-104)/2,d=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",p.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(f)}})}}function L(){var a=parseInt(A.index,10)+1;a>=na.length||d.find("#ivVideo_"+a).click()}function S(){var a;
c.isDefined(na)&&(a=na[A.index]);if(c.isDefined(a)){T();var b=d.find("#ivLargeVideo").css("display","block");y?(y.isDetached()&&y.attach(b[0]),c.loadMediaIntoAiry(y,a,La,p.tabletWeb),y.show()):(y=c.createAiryInstanceForChromeful(b,a,La,"ImmersiveView"),La.enableContinuousPlay&&y.bind("ended",L));y.play({isAsync:!0})}}function C(){V();var a="hero-image"===A.type?d.find("#ivHeroImage_"+A.index):"image"===A.type?d.find("#ivImage_"+A.index):"chromeful-video"===A.type||"chromeless-video"===A.type?d.find("#ivVideo_"+
A.index):"360-spin"===A.type?d.find("#iv360"):c.isDefined(Z)?d.find("#ivHeroImage_"+A.index):d.find("#ivImage_"+A.index);c.isjQueryObjDefined(a)||(a=d.find("#ivImage_0"));t(a)}function t(a){d.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(A.type="chromeful-video",A.index=a.attr("id").split("_")[1],S()):a.hasClass("ivHeroImage")?(A.type="hero-image",A.index=a.attr("id").split("_")[1],Q(A.type)):a.hasClass("iv360Image")?(A.type="360-spin",A.index=0,g()):
(A.type="image",A.index=a.attr("id").split("_")[1],Q(A.type))}function g(){T();d.find("#ivLarge360").css("display","block");r();var a=d.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});x.animateStageIn(a)},200);q();n.postCountMetric("dppc_click360");Ca=Date.now()}function B(){0<Ca&&(F("dppc_duration360",Date.now()-Ca),Ca=0)}function F(a,b){E.ue&&E.ue.count(a,b)}function q(){if(0<xa){var a=d.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}
function G(b,c){if(xa<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*ua+"px",height:za+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(xa++,1===xa&&(q(),0<Ca&&F("dppc_loadTime360",Date.now()-Ca)),0<db&&F("dppc_perSpriteloadTime360",Date.now()-db),d.find("#iv360Spinner").hide(),e.show(),Na=5*aa.imageLocations[Math.floor(Ma/aa.imageLocations[0].length)][Ma%aa.imageLocations[0].length],G(b,c))};e.attr("src",b[xa].replace(/(\._SP)\d+(,)\d+/,
"$1"+Ba+"$2"+Aa));db=Date.now()}}function z(a){if(c.isDefined(aa.spriteWidthSizes)&&0<aa.spriteWidthSizes.length){var b=aa.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function r(){var b=d.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",p.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),bb=!0,k())}function k(){if(c.isDefined(aa.spriteURLs)&&c.isDefined(d)&&bb&&!cb){var b=d.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});c.isDefined(aa.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",aa.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(p.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);e=aa.imageWidth;var k=aa.imageHeight,g=b.parent().width(),h=b.parent().height(),m=0,n=0;e/k>g/h?(Ba=z(g),Aa=Math.round(k/e*Ba),ua=Math.ceil(g),za=Math.ceil(Aa/Ba*g),n=(h-za)/2):(Aa=z(h),Ba=Math.round(e/k*Aa),za=
Math.ceil(h),ua=Math.ceil(Ba/Aa*h),m=(g-ua)/2);b.css({"margin-left":m,"margin-top":n,width:ua+"px",height:za+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ua+"px");G(aa.spriteURLs,d.find("#image-360-sprites"),0);e=d.find("#ivLarge360");e.bind("mousedown",X);e.bind("touchstart",D);e.bind("touchmove",f);e.bind("touchend",M);a(document).bind("mousemove",v);a(document).bind("mouseup",l);c.isDefined(p.staticImages.grab)&&b.css("cursor","url('"+p.staticImages.grab+
"'), auto");cb=!0}}function D(a){Pa=!0;ab=a.originalEvent.targetTouches[0].clientX}function f(a){Pa&&(I(a.originalEvent.targetTouches[0].clientX-ab),ab=a.originalEvent.targetTouches[0].clientX)}function M(a){Pa&&(Pa=!1)}function X(a){Oa=!0;$a=a.originalEvent.clientX;c.isDefined(p.staticImages.grabbing)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+p.staticImages.grabbing+"'), auto"));return!1}function v(a){Oa&&
(I(a.originalEvent.clientX-$a),$a=a.originalEvent.clientX)}function l(a){Oa&&(Oa=!1,c.isDefined(p.staticImages.grab)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function I(a){for(a=Na-=a/ua*180;0>a;)a+=360;for(;360<a;)a-=360;Na=a;a=360;for(var b=0;b<xa;b++)for(var e=0;e<aa.imageLocations[b].length;e++){var f=Math.abs(Na-5*aa.imageLocations[b][e]);if(f<a){a=f;var k=b*aa.imageLocations[0].length+e}}k!==Ma&&
(a=Math.floor(k/aa.imageLocations[0].length),a!==Math.floor(Ma/aa.imageLocations[0].length)&&(c.isDefined(eb)||(eb=document.createElement("canvas").getContext("2d")),b=d.find("#image-360-sprites").children(),eb.drawImage(b[a],0,0)),a=d.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ma=k;a=k%aa.imageLocations[0].length*-1*ua;k=-1*Math.floor(k/aa.imageLocations[0].length)*za;b=d.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+k+"px, 0)");b.css("transform","translate3d("+a+"px, "+k+"px, 0)")}function R(){d.delegate(".ivThumb","click",function(){var b=a(this);t(b)});d.delegate(".ivThumbVideoListOuter","click",function(){d.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");A.type="chromeful-video";A.index=b.attr("id").split("_")[1];S()})}function ja(){y&&!y.isDetached()&&(La.volume=y.getVolume(),y.detach(),!document.all||E.atob||document.addEventListener||
(y=null));d.find("#ivLargeImage").empty();B()}function K(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ma(b){var c=ya.left-(b.pageX-Ua[0])*Ta;m.capabilities.rtl&&(c=ya.left-(a(E).width()-b.pageX-Ua[0])*Ta);b=ya.top-(b.pageY-Ua[1])*Ta;c=K(c,Sa.left);b=K(b,Sa.top);d.find(".fullscreen").css({left:c,top:b})}function W(){d.delegate("#ivLargeImage","click",function(a){if(Qa)H();else if(Ra){d.find(".fullscreen").removeAttr("style");if(Ra){var b=d.find("#ivLargeImage"),c=b.find(".fullscreen");jb?
b.css("cursor","url('"+p.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Qa=!0;var e=d.find("#ivLargeImage");Sa.left=e.width()-c.width();Sa.top=e.height()-c.height();e=b.height()/2;var f=b.width()/2;Ua=[b.offset().left+f,b.offset().top+e];ya.top=e-c.height()/2;ya.left=f-c.width()/2;c.css({position:"relative",left:ya.left,top:ya.top});Ta=Math.max(c.height()/b.height(),c.width()/b.width())}ma(a)}});d.delegate("#ivLargeImage",
"mousemove",function(a){Qa&&ma(a)})}function Y(f){if(c.isImmersiveViewEnabled(p,J.getCurrentItem().color))if(gb){var k=f.$event.originalEvent;k.acknowledge&&k.acknowledge(f.$currentTarget[0]);ib=c.isDefined(f)&&"button-360-click"===f.action;da.isEnabled&&w.logImmersiveViewRequestServed(da);n.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(ba))ba.show();else{f=a("#auiImmersiveViewDiv");k=a(E).height()-150;var g=a(E).width()-75;ba=gb.create(f,{name:"immersiveView",activate:"onclick",width:g,
height:k,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(fb){d=a("#ivMain");f=J.getCurrentItem().color;fa=p.colorImages[f];Z=p.heroImage[f];na=p.useChildVideos?p.colorToVideo[f]:p.videos;hb=ha()&&p.spin360ColorEnabled[f];aa=ha()?p.spin360ColorData[f]:ka;V();ea=O=b=e=0;c.isDefined(Z)&&(O=Z.length);c.isDefined(fa)&&(e=fa.length);c.isDefined(na)&&(b=na.length);hb&&(ea=1);x.populateTitle(d.find("#ivTitle"),45,p);x.populateVariationSelection(d.find("#ivVariationSelection"));f=d.find("#ivMediaSelect");
0===e+ea||0===b?(f.parent().hide(),d.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(p.staticStrings.allMedia+" ("+(O+e+ea+b)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(p.staticStrings.images+" ("+(O+e+ea)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(p.staticStrings.videos+" ("+b+")").appendTo(f),f.parent().show(),f.val("all"));f=d.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();
k=O+e+b+ea;for(var h=g=0;g<k;)for(var l=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),y=0;3>y&&g<k;y++,g++,h++)if(h<O){var D=Z[g].thumb,A=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(l);A.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(D)+'") center no-repeat')}else if(h>=O&&h<e+O)D=fa[g-O].thumb,A=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(g-O)).appendTo(l),A.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(D)+'") center no-repeat');else if(h>=O+e&&h<e+O+ea)A=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),A.find(".ivThumbImage").css("background",'url("'+(c.isDefined(p.staticImages.icon360)?x.getResizedThumbnailURL(p.staticImages.icon360,!0):"")+'") center no-repeat');else if(D=na[g-e-O-ea],A=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(g-e-O-ea)).appendTo(l),A.find(".ivThumbImage").css("background",'url("'+D.thumbUrl+'") center no-repeat'),c.isDefined(D)){var q={position:"triggerTop"},r=d.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");r.find(".ivVideoPopoverTitle").text(D.title);r.find(".ivVideoPopoverDuration").text(D.durationTimestamp);q.inlineContent=r[0];m.declarative.create(A,"a-tooltip",q)}f=d.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();
k=f.find(".placeholder");for(g=0;g<b;g++)h=na[g],l=k.clone().removeClass("placeholder").appendTo(f),l.attr("id","ivVideoList_"+g),l.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(h.title),l.find(".ivThumbDuration").text(h.durationTimestamp);d.find("#ivLarge360").empty();xa=0;cb=bb=!1;La=p.airyConfig;fb=!1;Ib()}}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}function wa(a){var b=p.colorToAsin[a],d={},e=500;if(b&&b.asin){d.params={asin:b.asin};var f="360"+b.asin,g=Date.now();d.success=function(b){F("dppc_asyncRequestTime360",Date.now()-g);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(f,"success"),p.spin360ColorData[a]=b.spin360.spin360Model,a===J.getCurrentItem().color&&(aa=p.spin360ColorData[a],k())):d.error()};d.error=function(){n.postCountMetric("dppc_asyncFailed360");F("dppc_asyncRequestTime360",
Date.now()-g);e*=2;16E3>=e?setTimeout(function(){g=Date.now();h.load("/gp/product/features/apparel-main-image/360.html",d)},e):c.ajaxState(f,"fail")};c.ajaxState(f)&&"fail"!==c.ajaxState(f)||(h.load("/gp/product/features/apparel-main-image/360.html",d),c.ajaxState(f,"sent"))}}function ha(){return c.isDefined(p.spin360ConfigEnabled)&&p.spin360ConfigEnabled}var ca,p,J,ia,ba,d,Z,fa,na,O,e,b,ea,A,y,La,aa,hb,ua,za,Aa,Ba,$a,ab,ib=!1,bb=!1,cb=!1,Na=0,Ma=0,Ca=0,db=0,Oa=!1,Pa=!1,xa=0,eb,jb=navigator.userAgent.match(/msie|trident/i),
fb=!0,Qa=!1,Ra=!1,Sa={},ya={},Ta,Ua,gb;u.when("a-modal").execute(function(a){gb=a});var Ib=m.once(function(){P();R();W();m.on("a:popover:afterUpdatePosition:immersiveView",la);m.on("a:popover:afterShow:immersiveView",C);m.on("a:popover:afterHide:immersiveView",ja);qa()});return function(b,d,f,e){ca=this;p=b;J=d;da.refToModel=J;ia=e;ha()&&(p.spin360ColorData[p.landingAsinColor]=p.spin360ColorData[p.defaultColor],p.spin360ColorEnabled[p.landingAsinColor]=p.spin360ColorEnabled[p.defaultColor]);c.isDefined(p.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",x.addStyleCodeToURL(p.staticImages.icon360,"_FMpng_RI_"));ca.render=function(a,b,d,e,f,k){fb=!0;ha()&&p.spin360ColorEnabled[a]&&!c.isDefined(p.spin360ColorData[a])&&(p.spin360ColorData[a]={},wa(a));c.isImmersiveViewEnabled(p,J.getCurrentItem().color)&&ha()&&p.spin360ColorEnabled[a]&&(b===p.maxAlts&&(a=e.find(".item.imageThumbnail"),d=e.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),
b--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),m.declarative.create(a,"button-360-click"),e.append(a),b++,n.postCountMetric("dppc_display360"));return b};ca.update=function(a){};c.isImmersiveViewEnabled(p,J.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");ia.register("imageClick",Y);ia.register("button360Click",Y)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(m,a,c,h,n,u,w,x,E){function N(){var b=a("#iv360Tab").height();v.css("height",b);var d=v.find("#ivTitle360").outerHeight(!0),c=v.find("#ivVariationSelection360").outerHeight(!0),e=v.find("#ivThumbs360"),f=w.getDimension(e,"margin-top")+w.getDimension(e,"margin-bottom");e.css("height",b-d-c-f);b=v.find("#ivStage360");d=v[0]&&v[0].getBoundingClientRect&&Math.floor(v[0].getBoundingClientRect().width)||
v.width();b.css("width",d-w.getDimension(v,"padding-left")-w.getDimension(v,"padding-right")-v.find("#ivThumbColumn360").width()-w.getDimension(b,"margin-left")-w.getDimension(b,"margin-right"))}function V(){U();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});w.animateStageIn(a)},200);da()}function da(){if(0<d){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function P(b,c){if(d<b.length){var e=a("\x3cimg /\x3e").css({display:"block",
width:6*I+"px",height:R+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(d++,1===d&&(da(),0<p&&(n.time("dppc_loadTime360",Date.now()-p,f.mediaAsin),u.postTimeMetric("dppc_loadTime360",Date.now()-p))),0<J&&(n.time("dppc_perSpriteloadTime360",Date.now()-J,f.mediaAsin),u.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-J)),v.find("#iv360Spinner").hide(),e.show(),ha=5*l.imageLocations[Math.floor(ca/l.imageLocations[0].length)][ca%l.imageLocations[0].length],
P(b,c))};e.attr("src",b[d].replace(/(\._SP)\d+(,)\d+/,"$1"+K+"$2"+ja));J=Date.now()}}function H(a){if(c.isDefined(l.spriteWidthSizes)&&0<l.spriteWidthSizes.length){var b=l.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function U(){var b=v.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Y=!0,T())}function T(){if(c.isDefined(l.spriteURLs)&&c.isDefined(v)&&Y&&!wa){var b=v.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(l.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",l.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=l.imageWidth;var e=l.imageHeight,k=b.parent().width(),h=b.parent().height(),m=0,n=0;d/e>k/h?(K=H(k),ja=Math.round(e/d*K),I=Math.ceil(k),R=Math.ceil(ja/K*k),n=(h-R)/2):(ja=H(h),K=
Math.round(d/e*ja),R=Math.ceil(h),I=Math.ceil(K/ja*h),m=(k-I)/2);b.css({"margin-left":m,"margin-top":n,width:I+"px",height:R+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*I+"px");P(l.spriteURLs,v.find("#image-360-sprites"),0);d=v.find("#ivLarge360");d.bind("mousedown",C);d.bind("touchstart",Q);d.bind("touchmove",L);d.bind("touchend",S);a(document).bind("mousemove",t);a(document).bind("mouseup",g);c.isDefined(f.staticImages.grab)&&b.css("cursor","url('"+
f.staticImages.grab+"'), auto");wa=!0}}function Q(a){ba=!0;W=a.originalEvent.targetTouches[0].clientX}function L(a){ba&&(B(a.originalEvent.targetTouches[0].clientX-W),W=a.originalEvent.targetTouches[0].clientX)}function S(a){ba&&(ba=!1)}function C(a){ia=!0;ma=a.originalEvent.clientX;c.isDefined(f.staticImages.grabbing)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+f.staticImages.grabbing+"'), auto"));return!1}
function t(a){ia&&(B(a.originalEvent.clientX-ma),ma=a.originalEvent.clientX)}function g(a){ia&&(ia=!1,c.isDefined(f.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function B(a){ha-=a/I*180;fa&&(n.count("dppc_360dragToSpin",f.mediaAsin),u.postCountMetric("dppc_360dragToSpin"));fa=!1;for(a=ha;0>a;)a+=360;for(;360<a;)a-=360;ha=a;a=360;for(var b=0;b<d;b++)for(var e=0;e<l.imageLocations[b].length;e++){var k=
Math.abs(ha-5*l.imageLocations[b][e]);if(k<a){a=k;var g=b*l.imageLocations[0].length+e}}g!==ca&&(a=Math.floor(g/l.imageLocations[0].length),a!==Math.floor(ca/l.imageLocations[0].length)&&(c.isDefined(Z)||(Z=document.createElement("canvas").getContext("2d")),b=v.find("#image-360-sprites").children(),Z.drawImage(b[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ca=g;a=g%l.imageLocations[0].length*-1*I;g=-1*Math.floor(g/
l.imageLocations[0].length)*R;b=v.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+g+"px, 0)");b.css("transform","translate3d("+a+"px, "+g+"px, 0)")}function F(){if(O){v=a("#ivMain360");var b=M.getCurrentItem().color;G()&&z(b);l=G()?f.spin360ColorData[b]:ka;w.populateTitle(v.find("#ivTitle360"),160,f);w.populateVariationSelection(v.find("#ivVariationSelection360"));v.find("#ivLarge360").empty();d=0;wa=Y=!1;ca=ha=0;e();O=!1}0!==a("#iv360Tab").height()&&
(w.detachImmersiveViewResizeHandler(F),N(),V(),p=Date.now(),na=fa=!0,n.count("dppc_click360",f.mediaAsin),u.postCountMetric("dppc_click360"))}function q(a,d,e){a=f.colorToAsin[e];var b={},k=500;if(!a||!a.asin)if(e===f.defaultColor)a={asin:f.winningAsin};else return;b.params={asin:a.asin};var g="360"+a.asin,l=Date.now();b.success=function(a){n.time("dppc_asyncRequestTime360",Date.now()-l,f.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&
x.setData(a),c.ajaxState(g,"success")):b.error()};b.error=function(){n.count("dppc_asyncFailedTransient360",f.mediaAsin);u.postCountMetric("dppc_asyncFailedTransient360");n.time("dppc_asyncRequestTime360",Date.now()-l,f.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);k*=2;16E3>=k?setTimeout(function(){l=Date.now();h.load("/gp/product/features/apparel-main-image/360.html",b)},k):(n.count("dppc_asyncFailed360",f.mediaAsin),u.postCountMetric("dppc_asyncFailed360"),c.ajaxState(g,
"fail"))};c.ajaxState(g)&&"fail"!==c.ajaxState(g)||(h.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(g,"sent"))}function G(){return f&&c.isDefined(f.spin360ConfigEnabled)&&f.spin360ConfigEnabled}function z(a){return c.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function r(){na&&(n.time("dppc_duration360",Date.now()-p,f.mediaAsin),u.postTimeMetric("dppc_duration360",Date.now()-p),na=!1)}function k(a){a=f.colorToAsin[a.color]&&
f.colorToAsin[a.color].asin;a||(a=f.mediaAsin);return a}var D,f,M,X,v,l,I,R,ja,K,ma,W,Y=!1,wa=!1,ha=0,ca=0,p=0,J=0,ia=!1,ba=!1,d=0,Z,fa=!0,na=!1,O=!0,e=m.once(function(){w.attachImmersiveViewResizeHandler(F);w.attachImmersiveViewResizeHandler(N);w.attachImmersiveViewResetHandler(r);w.attachTabDeselectHandler("iv360Tab",r)});return function(b,d,e,g){D=this;f=b;M=d;X=g;b=f.landingAsinColor;d=f.defaultColor;c.isDefined(f.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
w.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));G()&&(f.spin360ColorData||(f.spin360ColorData={}),b===d&&c.isDefinedAndEmpty(f.spin360ColorData[d])&&delete f.spin360ColorData[d]);m.on(E.TWISTER_DATA_EVENT,function(a){k(M.getCurrentItem())===a&&(l=x.getData(a),T(),a={type:"updatedData",data:M.getCurrentItem()},X.dispatch("updateView",a))});D.render=function(b,d,e,g,h,l){O=!0;!G()||c.isDefinedAndEmpty(f.spin360ColorData[b])&&!x.getData(k(M.getCurrentItem()))?w.hideTabHeading("iv360TabHeading"):
(f.spin360ColorData[b]=x.getData(k(M.getCurrentItem())),c.isDefinedAndNotEmpty(f.spin360ColorData[b])?(a("#ivThumbs360").hide(),w.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(f,M.getCurrentItem().color)&&G()&&z(b)&&(d===f.maxAlts&&(b=g.find(".item.imageThumbnail"),e=g.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():b.last().remove(),d--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),m.declarative.create(b,
"button-360-click"),g.append(b),n.count("dppc_display360",f.mediaAsin),u.postCountMetric("dppc_display360"))):c.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?(f.spin360ColorData[b]={},w.hideTabHeading("iv360TabHeading"),q(g,d,b)):w.hideTabHeading("iv360TabHeading"))};D.update=function(a){};w.attachTabSelectHandler("iv360Tab",F)}});u.register("nexusLogger360",function(){return{count:function(m,a){E.ue&&E.ue.event({asin:a,metricName:m,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(m,a,c){E.ue&&E.ue.event({asin:c,metricName:m,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(m,a){var c={};return{setData:function(h){var n=h.asin;c[n]||(c[n]=h,m.trigger(a.TWISTER_DATA_EVENT,n))},getData:function(a){return c[a]}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(m){function a(){this.render=function(){};this.update=function(){}}return function(c,h,n,E){var w=!1,x=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ka&&(w=!0,x=new a(c,h,n,E))});c&&!0===c.showroomEnabled&&!1===w&&m.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return x}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(m,a,c,h,n,u,w){function x(){q.delegate(".ivThumb","click",function(){var d=a(this);q.find(".ivThumb").removeClass("selected");d.addClass("selected");d.hasClass("ivThumbVideo")&&(G.type="chromeful-video",G.index=d.attr("id").split("_")[1])})}function N(){if(W){var d=a("#ivVideosTab").height();q.css("height",d);var c=q.find(".vse-lb-container");z=d-n.getDimension(c,"padding-top")-n.getDimension(c,"padding-bottom");c.css({"max-height":d,overflow:"hidden"});if(R){q.css({"max-width":Math.floor(1.77*
z)});return}d=q.find(".vse-player-container");c=q.find(".vse-video-action-strip");var f=q.find(".vse-lb-video-metadata"),g=Math.floor(z-n.getDimension(f,"height")-n.getDimension(c,"height")),k=Math.floor(1.77*g);d.css({"max-height":g,"max-width":k,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":k,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":k,marginLeft:"auto",marginRight:"auto"})}ja&&(d=q.find(".vse-vertical-scroll"),c=n.getDimension(d,"margin-top")+n.getDimension(d,"margin-bottom"),
d.css("max-height",z-c))}function da(){V();r&&r.pause();K=!1;l=!0;M=null;ma=!0;W=!1}function V(){K=!1;r&&r.pause()}function la(d){M=d.clickTimeStamp?d.clickTimeStamp:m.now();c.isDefined(F)&&(F.eventTimestamp=M);K=!0;I&&(w.get(m,"#ivVideoBlock",B,ia,ba),q=a("#ivVideoBlock"),g.getCurrentItem(),G=g.getCurrentItem(),ca(),L());N();I=!1;U()}function P(d){I&&(q=a("#ivVideoBlock"),g.getCurrentItem(),G=g.getCurrentItem(),ca());K&&U();N()}function H(a){r=a.player;h.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
m.now()-ha);t.imageBlockRenderingStartTime&&h.postTimeMetric("vse_ib_desktop_time_to_player_interactive",m.now()-t.imageBlockRenderingStartTime);W&&(L(),U())}function U(){if(r&&K&&(q.find(".vse-lb-container").animate({opacity:1},200),r.play(F),h.postCountMetric("dpcc_vse_videoBlock_video_played"),l)){var a=E.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,h.postTimeMetric("dpcc_vse_vitff",a),l=!1)}}function T(){m.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function Q(a){k=
a.popover.$popover;W=!0;L()}function L(){if(W&&ma&&K&&r){k.addClass(m.$(k).find(".vse-lb-container").data("cssClass"));var a=F;Y&&(a=ka,Y=!1);m.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});N();ma=!1}}function S(a){document.getElementsByClassName("videoBlockIngress")[0].click();ka=a;Y=!0}var C,t,g,B,F,q,G,z,r,k,D,f,M,X,v,l=!0,I=!0,R=!1,ja=!1,K=!1,ma=!0,W=!1,Y=!1,ka,ha=0,ca=m.once(function(){x();n.attachImmersiveViewResizeHandler(P);n.attachTabDeselectHandler("ivVideosTab",
V);n.attachImmersiveViewResetHandler(da)}),p=function(d,f,k){a("#ivVideoBlockSpinner").addClass("aok-hidden");h.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);d=g.getCurrentItem().color;d=c.getVideoHash(d,0,t);r||(r=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),d,t.airyConfig,"ImmersiveView"));R=!0;a("#ivVideoBlock").css({"max-width":1.77*z,margin:"0 auto"});K&&R&&r.play({isAsync:!0})},J=function(d,c,f){I||w.get(d,"#ivVideoBlock",B,ia,ba);a("#ivVideoBlockSpinner").addClass("aok-hidden")},
ia=function(a,c,f){ja=!0;N()},ba=function(a,c,f){h.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,k,h,l){C=this;t=a;g=k;C.render=function(a,d,b,k,h,l){a=g.getCurrentItem().color;d=c.getVideoHash(a,0,t);!0===l?D=t.mediaAsin:(D=t.colorToAsin[a]&&t.colorToAsin[a].asin,D=c.isDefined(D)?D:t.mediaAsin);f=!0===t.useVSEVideos?"VIDEO_ID":"physicalID";X=t.contentWeblab;v=t.contentWeblabTreatment;I=!0;-1===d?n.hideTabHeading("ivVideosTabHeading"):
(n.unhideTabHeading("ivVideosTabHeading"),B={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:D,contentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:f,videoURL:d.url,imageURL:d.slateUrl,rankingStrategy:d.rankingStrategy},requestId:t.dpRequestId,weblabContext:[{name:X,assignment:v,ignoreForG2S2Key:!0}],metadata:{ProductTitle:t.title}},F={videoUrl:B.video.videoURL,contentId:B.video.contentID,duration:0,vendorCode:"",
eventTimestamp:c.isDefined(M)?M:m.now(),imageUrl:B.video.imageURL,productAsin:B.product.contentID,rankingStrategy:B.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(r)&&(r.destroy(),r=null),ha=m.now(),u.get(m,"#ivVideoBlock",B,J,p))};C.update=function(a){};n.attachTabSelectHandler("ivVideosTab",la);m.on("vsePlayer-detailpage-imageblock",H);m.on("a:popover:afterShow:immersiveView",Q);m.on("a:popover:beforeHide:immersiveView",T);m.on("detailpage-imageblock-leave-pip",S)}});"use strict";u.when("A",
"jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(m,a,c,h,n){function E(c,h){if(c){F=t.getCurrentItem();0==Object.entries(r).length&&w();var f=F.shoppableScene;f==ka?(c=L(Object.values(r)[0]),f=Object.values(r)[0].shoppableScene):c=L(B[F.index]);z=f.physicalId;var k=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<k.length){var m=a("\x3cimg\x3e");m.attr("id","shoppableSceneIvImage");m.attr("src",c);m.css({"max-height":"500px",
"max-width":"650px"});k.replaceWith(m);c=x(f);f=a(".shoppable-scene-image-block-tags-in-iv");f.empty();c.appendTo(f)}else g.hide(),H();qa();c=F.shoppableScene?F.shoppableScene:Object.values(r)[0].shoppableScene;V(c);U(h,q,null,z)}}function w(){B=C.colorImages[F.color];q=C.colorToAsin[F.color].asin;B.forEach(function(a){a.shoppableScene!=ka&&(r[a.shoppableScene.physicalId]=a)})}function x(c){var g=a("\x3cspan\x3e");m.each(c.tags,function(f){var k=a("\x3cdiv\x3e").css({position:"absolute",left:100*
f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});k.append(N(!1));k.append(N(!0));m.declarative.create(k,"scenes-show-details-tags-ib-iv-click",{tagId:f.link,physicalId:c.physicalId});g.append(k)});return g.children()}function N(c){var g=a("\x3cimg src\x3d'"+(c?C.staticImages.shoppableSceneDotHighlighted:C.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");g.css({display:c?"none":"inline-block"});g.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return g}function qa(){var c=
a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(r).forEach(function(g){var f=r[g],k=a("\x3cimg\x3e");f=L(f);k.attr("id","shoppable-scene-thumbnail-"+g);k.attr("src",f);k.addClass("shoppable-scene-thumbnail");m.declarative.create(k,"scenes-thumbnail-ib-iv-click",{physicalId:g});k.appendTo(c)})}function V(a){Q();u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){m.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}
function la(a,c){Q();u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){m.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:c})})}function P(){var c=r[z].shoppableScene,h=a(".shoppable-scene-image-block-tags-in-iv");h.hide();c=x(c);h.empty();c.appendTo(h);h.show();g.show()}function H(){var c=L(r[z]),g=a("#shoppableSceneIvImage");g.bind("load",P);g.attr("src",c)}function U(a,c,f,g){var k="shoppable-scene-dp-iv:mirai:"+
a;u.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){m.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:k,asin:c,tagId:f,physicalId:g})})}function T(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");m.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function Q(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");
0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var g=a("\x3cimg\x3e");g.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");g.attr("src",C.staticImages.spinner);g.css({position:"relative"}).appendTo(c)}function L(a){return a.hiRes||a.large||a.main[a.main.length-1]}var S=void 0,C=void 0,t=void 0,g=void 0,B=void 0,F=void 0,q=void 0,G=void 0,z=void 0,r={};m.declarative("shoppable-scene-image-click","click",function(a){E(!0,
"IMAGE_BLOCK_SHOPPABLE_SCENE")});m.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=G){var f=G.find(".active-tag"),g=G.find(".inactive-tag");f.css({display:"none"});g.css({display:"inline-block"})}f=c.find(".active-tag");g=c.find(".inactive-tag");f.css({display:"inline-block"});f.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});G=c;T();la(a.data.tagId,a.data.physicalId);U("IMMERSIVE_VIEW_PRODUCT_TAG",q,a.data.tagId,a.data.physicalId)});
m.declarative("scenes-thumbnail-ib-iv-click","click",function(a){z=a.data.physicalId;H();V(r[z].shoppableScene)});return function(c,h,f,m){S=this;C=c;t=h;g=a("#ivMainShoppableScene");S.render=function(a,c,f,g,h,k){};S.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=t.getCurrentItem();E(null==F||F.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,h=b._namespace||b.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):b;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,b,h){d.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var e=a.$,g=e("#featurebullets_feature_div"),k=e("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=e("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){d.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";d.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,e,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,b.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=e.lazyLoadExperienceDisabled;g.isDefined(e.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";d.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});d.register("postEarlyMetric",function(){return null});"use strict";d.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=b.ue;if(c){var e=c.count(a)||0;c.count(a,e+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var e=b.ue;e&&e.count(a,c)}},emitNexusMetric:function(a){b.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,c,e,g,k,f,d,m,p){d=f="";try{f=b.location.href;var l=f.match(/\/dp\/([A-Z0-9]{10})/);l&&l[1]&&(d=l[1])}catch(q){(l=b.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",
placementContext:p,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+c,videoAsin:e,videoAsinList:"",rankingStrategy:g===h?"":g,groupType:k===h?"":k,pageUrl:f,pageAsin:d,weblabIds:m===h?"":m}}}});"use strict";d.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,c,e){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),c=c.getResourceTimeByName("img",d),a.each(c,function(a){a&&(a.responseEnd!=h&&e.postCountMetric("ibDesktopLandingImageDownloadTime",
b.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?e.postCountMetric("ibDesktopLandingImageCached",1):(e.postCountMetric("ibDesktopLandingImageSizeInBytes",b.parseInt(a.transferSize)),e.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
